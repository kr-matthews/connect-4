(this["webpackJsonpconnect-4"]=this["webpackJsonpconnect-4"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},16:function(e,t,r){"use strict";r.r(t);var c=r(1),n=r.n(c),o=r(8),a=r.n(o),l=r(0);var s=function(){return Object(l.jsx)("p",{children:"Options: set name, colour, theme"})};var u=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Lobby"}),Object(l.jsx)("p",{children:"Create or join a room."})]})},i=r(3),j=r(2);var b=function(){return Object(l.jsx)("p",{children:"Header: room status (names, colours, w-l-d record), room reset options."})};r(14);function d(e){var t=e.row,r=e.placePiece,c=e.colours,n=e.toPlayNext,o=t.map((function(e,t){var o=e.player,a=e.inLine;return Object(l.jsx)(p,{col:t,player:o,placePiece:r,colours:c,inLine:a,toPlayNext:n},t)}));return Object(l.jsx)("tr",{children:o})}function p(e){var t=e.col,r=e.player,c=e.placePiece,n=e.colours,o=e.inLine,a=e.toPlayNext;var s=null===r?"clickable cell":"cell",u=null===r?c:function(e,t){};return Object(l.jsx)("td",{className:s,onClick:function(){return u(a,t)},children:null!==r&&Object(l.jsx)("span",{className:"piece",style:function(){var e=n[r];return{backgroundColor:e,borderColor:o?"DarkGray":e}}()})})}var O=function(e){for(var t=e.board,r=e.placePiece,c=e.colours,n=e.toPlayNext,o=[],a=t.length-1;a>-1;a--)o.push(Object(l.jsx)(d,{row:t[a],placePiece:r,colours:c,toPlayNext:n},a));return Object(l.jsx)("table",{className:"board",children:Object(l.jsx)("tbody",{children:o})})};var y=function(e){var t=e.resetGame;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("p",{children:"Footer: game status (onging/lost/etc), game reset options."}),Object(l.jsx)("button",{onClick:function(){return t(0)},children:"Reset Game"})]})},h=r(7);function f(e,t){switch(t.type){case"reset":return m(t.boardSize);case"placePiece":var r=Object(i.a)(e);return r[t.row][t.col]=Object(h.a)(Object(h.a)({},r[t.row][t.col]),{},{player:t.player}),r;case"undo":if(t.moveHistory===[])return e;var c=Object(i.a)(e);return delete c[t.row][t.col].player,c;default:return console.log("boardReducer switch didn't match any case"),e}}function x(e,t){switch(t.type){case"reset":return[];case"addMove":var r=Object(i.a)(e),c=t.player,n=t.row,o=t.col;return r.push({player:c,row:n,col:o}),r;case"undo":if(e===[])return e;var a=Object(i.a)(e);return a.pop(),a;default:return console.log("historyReducer switch didn't match any case"),e}}function m(e){for(var t=Object(j.a)(e,2),r=t[0],c=t[1],n=[],o=0;o<r;o++){for(var a=[],l=0;l<c;l++)a.push({player:null,inLine:!1});n.push(a)}return n}function v(e){var t=[6,7],r=[[0,1],[1,0],[1,1],[-1,1]],n=Object(c.useState)("ongoing"),o=Object(j.a)(n,2),a=o[0],l=o[1],s=Object(c.useState)(e),u=Object(j.a)(s,2),i=u[0],b=u[1],d=Object(c.useReducer)(f,m(t)),p=Object(j.a)(d,2),O=p[0],y=p[1],h=Object(c.useReducer)(x,[]),v=Object(j.a)(h,2),g=v[0],P=v[1];return{gameStatus:a,toPlayNext:i,board:O,moveHistory:g,resetGame:function(e){console.log("Reseting!"),l("ongoing"),b(e),y({type:"reset",boardSize:t}),P({type:"reset"}),console.log("Reset.")},placePiece:function(e,c){var n=function(e,t){for(var r=e.length,c=0;c<r;c++)if(null===e[c][t].player)return c;return null}(O,c);e===i&&null!==n&&(y({type:"placePiece",player:e,row:n,col:c}),P({type:"addMove",player:e,row:n,col:c}),function(e,c,n){console.log("Checking "+e+" at "+c+","+n+": "+O[c][n].player);var o=[O.length,O[0].length],a=o[0],s=o[1],u=null;r.forEach((function(t){for(var r=Object(j.a)(t,2),o=r[0],l=r[1],i=0,b=-3;b<4;b++)-1<c+b*o&&c+b*o<a&&-1<n+b*l&&n+b*l<s&&O[c+b*o][n+b*l].player===e?(i+=1)>=4&&(u=[c+b*o,n+b*l,o,l]):i=0})),null===u?O[t[0]-1].slice().map((function(e){return e.player})).includes(null)||l("draw"):l(e)}(e,n,c),b(1-e))}}}var g=function(e){e.creator;var t=Object(c.useState)(1),r=Object(j.a)(t,2),n=(r[0],r[1],Object(c.useReducer)((function(e,t){var r=Object(i.a)(e);return r[t.player][t.property]=t.value,r}),[{name:"Alice",colour:"blue"},{name:"Bob",colour:"red"}])),o=Object(j.a)(n,2),a=o[0],s=(o[1],v(0)),u=(s.gameStatus,s.toPlayNext),d=s.board,p=(s.moveHistory,s.resetGame),h=s.placePiece;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h2",{children:"Room"}),Object(l.jsx)(b,{}),Object(l.jsx)(O,{board:d,placePiece:h,colours:[a[0].colour,a[1].colour],toPlayNext:u}),Object(l.jsx)(y,{resetGame:p})]})};var P=function(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{children:"Connect 4 [WIP]"}),Object(l.jsx)(s,{}),Object(l.jsx)(u,{}),Object(l.jsx)(g,{})]})};r(15);a.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(P,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.73ebae34.chunk.js.map