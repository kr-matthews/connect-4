{"version":3,"sources":["Header/Header.js","Header/PlayerInfo.js","Header/PlayerName.js","Header/PlayerColour.js","Header/SiteTheme.js","Header/SiteSound.js","Lobby/CreateRoom.js","Lobby/JoinRoom.js","Lobby/CreateMultiPlayer.js","Lobby/CreateSinglePlayer.js","Colours.js","Lobby/useLobby.js","Lobby/Lobby.js","Game/Results.js","Room/RoomHeader.js","Game/Board.js","Game/SingleFooter.js","sounds/water_dropwav-6707.mp3","sounds/good-6081.mp3","sounds/failure-drum-sound-effect-2mp3-7184.mp3","sounds/mixkit-retro-game-notification-212.wav","Game/useGame.js","Game/useResults.js","sounds/success-1-6297.mp3","sounds/chime-sound-7143.mp3","sounds/notification-sound-7062.mp3","sounds/fist-punch-or-kick-7171.mp3","sounds/power-down-7103.mp3","Room/useRoom.js","Room/Room.js","Local/LocalHeader.js","Game/DoubleFooter.js","Local/LocalPlay.js","Local/ComputerHeader.js","Local/ComputerPlay.js","links/website-logo.svg","links/Links.js","links/github.png","links/github-dark.png","GlobalStyle.js","useLocalState.js","sounds/useSound.js","App.js","pubnubKeys.js","index.js"],"names":["Header","children","map","child","ind","PlayerInfo","self","PlayerName","editable","name","setName","useState","isEditing","setIsEditing","loseFocusHandler","newName","trim","autoFocus","type","value","placeholder","onChange","e","target","length","onKeyDown","key","onBlur","onClick","PlayerColour","colour","setColour","newColour","disabled","SiteTheme","themeType","toggleTheme","SiteSound","soundIsOn","toggleSound","CreateRoom","createRoom","restartMethodInput","setRestartMethodInput","handleChange","method","toLowerCase","checked","preventDefault","JoinRoom","joinRoom","roomCodeInput","setRoomCodeInput","toUpperCase","CreateMultiPlayer","playLocally","CreateSinglePlayer","playComputer","colours","getRandomColour","Math","floor","random","oppositeColourOf","r","g","b","minVal","min","maxVal","max","delta","sum","avg","deltaR","deltaG","deltaB","rawH","rgbToHsl","parseInt","substring","h","s","l","v2","v1","help","hslToRgb","newR","newG","newB","pad","round","toString","hexStr","v3","newV3","useLobby","setOpponent","setPlayType","setRoomCode","setIsOwner","setRestartMethod","getRoomOccupancy","isRoomCodeInUse","roomCode","a","roomOccupancy","alert","restartMethod","generatedRoomCode","chars","i","charAt","generateUnusedRoomCode","Lobby","pubnub","hereNow","channels","room","totalOccupancy","Results","resultHistory","headings","wins","draws","loses","RoomHeader","isOwner","hasOpponent","kickOpponent","closeRoom","leaveRoom","restartMethodMessage","copyToClipboard","navigator","clipboard","writeText","Row","row","viewer","isViewersTurn","makeMove","rowCells","col","player","isHighlight","colIsOpen","Cell","clickHandler","isClickable","useContext","ThemeContext","background","foreground","backgroundColor","pieceStyle","borderColor","cellClass","cellStyle","className","style","Board","board","tableRows","push","SingleFooter","gameStatus","winner","toPlayNext","forfeit","startNewGame","hasChoice","console","log","gameStatusMessage","directions","emptyTable","rows","cols","val","c","combineTables","tables","names","tableCount","combinedTable","moveHistoryReducer","state","action","newState","pop","piecesReducer","useGame","toPlayFirst","setSoundToPlay","_","lineLen","waiting","setWaiting","forfeiter","setForfeiter","useReducer","moveHistory","dispatchMoveHistory","pieces","dispatchPieces","boardStatus","isWon","isFull","highlights","createHighlights","openColumns","checkOpenCols","findEmptyRow","d","d_r","d_c","j","checkLine","table","k","isOpen","resetGame","startGame","placePiece","useEffect","winSound","loseSound","drawSound","yourTurnSound","resultReducer","initialResults","useResults","dispatchResult","resetResults","useCallback","reduceMessageQueue","message","shift","useRoom","opponent","publishMessage","unmountRoom","playerCount","setToPlayFirst","incomingMessageQueue","dispatchIncomingMessageQueue","queueIncomingMessage","resetRoom","closeRoomSound","leaveRoomSound","playerLeaveSound","playerJoinSound","createRoomSound","joinRoomSound","uuid","opp","handleMessage","wentFirst","kickOpponentSound","Room","SoundContext","publish","channel","subscribe","withPresence","unsubscribe","listener","event","addListener","removeListener","LocalHeader","unmountLocal","DoubleFooter","LocalPlay","ComputerHeader","unmountComputer","ComputerPlay","Link","url","image","description","href","rel","src","alt","Links","gitHubLink","links","websiteImage","GlobalStyle","createGlobalStyle","theme","useLocalState","initialValue","savedValue","JSON","parse","localStorage","getItem","setValue","setLocalValue","newValue","setItem","stringify","useSound","soundToPlay","Audio","play","themes","light","dark","createContext","App","setTheme","setSoundIsOn","modifyOpponent","prev","copy","playType","resetAll","generateRandomUuid","useMemo","PubNub","publishKey","subscribeKey","Provider","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"8PAeeA,MAff,YAA+B,IAAbC,EAAY,EAAZA,SAMhB,OACE,8BACGA,EAASC,KAAI,SAACC,EAAOC,GACpB,OAAO,8BAAgBD,GAANC,SCAVC,MATf,YAAyC,IAAnBJ,EAAkB,EAAlBA,SAAUK,EAAQ,EAARA,KAC9B,OACE,qCACE,6BAAKA,EAAO,MAAQ,aACnBL,MCoDQM,MApDf,YAAkD,IAA5BC,EAA2B,EAA3BA,SAAUC,EAAiB,EAAjBA,KAAMC,EAAW,EAAXA,QACpC,EAAkCC,oBAAS,GAA3C,mBAAOC,EAAP,KAAkBC,EAAlB,KAuBA,SAASC,IACP,IAAMC,EAAmB,KAATN,EA3BA,WA2B4BA,EAAKO,OACjDN,EAAQK,GACRF,GAAa,GAGf,OACE,wCACQ,IACLD,EACC,uBACEK,WAAS,EACTC,KAAK,OACLC,MAAOV,EACPW,YAAY,OACZC,SA9BR,SAAuBC,GAEjBA,EAAEC,OAAOJ,MAAMK,QAAU,IAC3Bd,EAAQY,EAAEC,OAAOJ,QA4BbM,UAvBR,SAAwBH,GACR,UAAVA,EAAEI,KACJZ,KAsBIa,OAAQb,IAERN,EACF,wBAAQoB,QAxCd,WACEf,GAAa,IAuCT,SAAgCJ,IAEhCA,MChCOoB,MAlBf,YAAwD,IAAhCrB,EAA+B,EAA/BA,SAAUsB,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,UAMxC,OACE,gDACgB,IACbvB,EACC,uBAAOU,KAAK,QAAQC,MAAOW,EAAQT,SATzC,SAAuBC,GACrB,IAAMU,EAAYV,EAAEC,OAAOJ,MAC3BY,EAAUC,MASN,uBAAOd,KAAK,QAAQe,UAAQ,EAACd,MAAOW,QCJ7BI,MARf,YAAgD,IAA3BC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,YAC9B,OACE,yDACmB,wBAAQR,QAASQ,EAAjB,SAA+BD,IADlD,cCOWE,MATf,YAAgD,IAA3BC,EAA0B,EAA1BA,UAAWC,EAAe,EAAfA,YAC9B,OACE,iDACW,wBAAQX,QAASW,EAAjB,SAA+BD,EAAY,KAAO,QAD7D,Q,uBC2CWE,MA3Cf,YAAqC,IAAfC,EAAc,EAAdA,WACpB,EAAoD9B,mBAAS,aAA7D,mBAAO+B,EAAP,KAA2BC,EAA3B,KAEA,SAASC,EAAatB,GACpBqB,EAAsBrB,EAAEC,OAAOJ,OAQjC,OACE,gCACE,uDACA,uHAIA,4IAIA,iCACG,CAAC,YAAa,QAAS,SAAU,UAAUjB,KAAI,SAAC2C,GAC/C,OACE,kCACE,uBACE3B,KAAK,QACLC,MAAO0B,EAAOC,cACdC,QAASL,IAAuBG,EAAOC,cACvCzB,SAAUuB,IAEXC,IAPSA,MAWhB,wBAAQjB,QA9Bd,SAAqBN,GACnBA,EAAE0B,iBACFP,EAAWC,IA4BP,gCCHOO,MAlCf,YAAiC,IAAbC,EAAY,EAAZA,SAClB,EAA0CvC,mBAAS,IAAnD,mBAAOwC,EAAP,KAAsBC,EAAtB,KAaA,OACE,gCACE,qDACA,0IAIA,iCACE,uBACElC,KAAK,OACLC,MAAOgC,EACP/B,YAAY,kBACZC,SAvBR,SAAuBC,GACrB8B,EAAiB9B,EAAEC,OAAOJ,MAAMkC,cAAcrC,WAwB1C,wBAAQY,QArBd,SAAsBN,GACpBA,EAAE0B,iBACEG,GACFD,EAASC,IAkBP,8BCVOG,MApBf,YAA6C,IAAhBC,EAAe,EAAfA,YAM3B,OACE,gCACE,2DACA,6GAIA,+BACE,wBAAQ3B,QAbd,SAAqBN,GACnBA,EAAE0B,iBACFO,KAWI,gCCMOC,MApBf,YAA+C,IAAjBC,EAAgB,EAAhBA,aAM5B,OACE,gCACE,uDACA,kHAIA,+BACE,wBAAQ7B,QAbd,SAAqBN,GACnBA,EAAE0B,iBACFS,KAWI,iCCbFC,EAAU,CACd,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,WAEF,SAASC,IACP,OAAOD,EAAQE,KAAKC,MAAMD,KAAKE,SAAWJ,EAAQlC,SAKpD,SAASuC,EAAiBjC,GAExB,IAKA,EAiBF,SAAkBkC,EAAGC,EAAGC,GACtB,IAAMC,EAASP,KAAKQ,IAAIJ,EAAGC,EAAGC,GACxBG,EAAST,KAAKU,IAAIN,EAAGC,EAAGC,GACxBK,EAAQF,EAASF,EACjBK,EAAMH,EAASF,EACfM,GAAOJ,EAASF,GAAU,EAEhC,GAAc,IAAVI,EAEF,MAAO,CAAC,EAAG,EAAGE,GAGhB,IAAMC,IAAWL,EAASL,GAAK,EAAIO,EAAQ,GAAKA,EAC1CI,IAAWN,EAASJ,GAAK,EAAIM,EAAQ,GAAKA,EAC1CK,IAAWP,EAASH,GAAK,EAAIK,EAAQ,GAAKA,EAI1CM,EACJb,IAAMK,EACFO,EAASD,EACTV,IAAMI,EACN,EAAI,EAAIK,EAASE,EACjBV,IAAMG,EACN,EAAI,EAAIM,EAASD,EACjB,MAGN,MAAO,CAFGG,EAAO,EAAIA,EAAO,EAAIA,EAAO,EAAIA,EAAO,EAAIA,EAT5CJ,EAAM,GAAMF,EAAQC,EAAMD,GAAS,EAAIC,GADvCC,GAjCQK,CALRC,SAASjD,EAAOkD,UAAU,EAAG,GAAI,IAAM,IACvCD,SAASjD,EAAOkD,UAAU,EAAG,GAAI,IAAM,IACvCD,SAASjD,EAAOkD,UAAU,EAAG,GAAI,IAAM,KAGjD,mBAAOC,EAAP,KAEA,EA8CF,SAAkBA,EAAGC,EAAGC,GACtB,GAAU,IAAND,EAEF,MAAO,CAACC,EAAGA,EAAGA,GAGhB,IAAMC,EAAKD,EAAI,GAAMA,GAAK,EAAID,GAAKC,EAAID,EAAIA,EAAIC,EACzCE,EAAK,EAAIF,EAAIC,EACnB,MAAO,CAACE,EAAKD,EAAID,EAAIH,EAAI,EAAI,GAAIK,EAAKD,EAAID,EAAIH,GAAIK,EAAKD,EAAID,EAAIH,EAAI,EAAI,IAtD5CM,CADdN,EAAI,GAAMA,EAAI,GAAMA,EAAI,GADrC,KAE6C,EAF7C,MAEA,mBAAOO,EAAP,KAAaC,EAAb,KAAmBC,EAAnB,KAIA,MACE,IACAC,EAAI/B,KAAKgC,MAAa,IAAPJ,GAAYK,SAAS,KAAKxC,cACzCsC,EAAI/B,KAAKgC,MAAa,IAAPH,GAAYI,SAAS,KAAKxC,cACzCsC,EAAI/B,KAAKgC,MAAa,IAAPF,GAAYG,SAAS,KAAKxC,cAI7C,SAASsC,EAAIG,GACX,OAAyB,IAAlBA,EAAOtE,OAAesE,EAAS,IAAMA,EA2C9C,SAASR,EAAKD,EAAID,EAAIW,GACpB,IAAMC,EAAQD,EAAK,EAAIA,EAAK,EAAIA,EAAK,EAAIA,EAAK,EAAIA,EAClD,OAAI,EAAIC,EAAQ,EACPX,EAAiB,GAAXD,EAAKC,GAAUW,EACnB,EAAIA,EAAQ,EACdZ,EACE,EAAIY,EAAQ,EACdX,EAAoC,GAAjB,EAAI,EAAIW,IAArBZ,EAAKC,GAEXA,EC1FX,SAASY,EACPC,EACAC,EACAC,EACAC,EACAC,EACAC,GAoBA,SAASC,EAAgBC,GACvB,OAAOF,EAAiBE,GAAY,EApBtC,4CAqCA,WAAwBA,GAAxB,eAAAC,EAAA,sEAC8BH,EAAiBE,GAD/C,OAEwB,KADhBE,EADR,QAGIC,MAAM,qBAAuBH,EAAW,sBACb,IAAlBE,GAETN,GAAW,GACXC,EAAiB,MACjBF,EAAYK,GACZN,EAAY,WAEZS,MAAM,sBAAwBH,EAAW,6BAX7C,4CArCA,sBAoEA,MAAO,CACLhE,WA5CF,SAAoBoE,GAElB,IAAMC,EAxBR,WAEE,IAAMC,EAAQ,iCAGVN,EAAW,GACf,EAAG,CACDA,EAAW,GACX,IAAK,IAAIO,EAAI,EAAGA,EAAI,EAAGA,IACrBP,GAAYM,EAAME,OAAOrD,KAAKC,MAAMD,KAAKE,SAAWiD,EAAMvF,eAErDgF,EAAgBC,IAEzB,OAAOA,EAWmBS,GAE1Bb,GAAW,GACXC,EAAiBO,GACjBT,EAAYU,GACZX,EAAY,WAsCZjD,SAtEF,4CAuEEK,YAnBF,WAEE2C,EAAY,CAAEzF,KAAM,YAAaqB,OAAQ6B,MAEzCwC,EAAY,UAgBZ1C,aAbF,WAEEyC,EAAY,CAAEzF,KAAM,oBAAqBqB,OAAQ6B,MAEjDwC,EAAY,cChBDgB,MA9Cf,YAOI,IANFjB,EAMC,EANDA,YACAC,EAKC,EALDA,YACAC,EAIC,EAJDA,YACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,iBACAc,EACC,EADDA,OACC,4CAID,WAAgCX,GAAhC,eAAAC,EAAA,sEACqBU,EAAOC,QAAQ,CAAEC,SAAU,CAACb,KADjD,cACQc,EADR,yBAESA,EAAKC,gBAFd,4CAJC,sBAWD,MAA4DvB,EAC1DC,EACAC,EACAC,EACAC,EACAC,GAhBD,8CAWO7D,EAAR,EAAQA,WAAYS,EAApB,EAAoBA,SAAUK,EAA9B,EAA8BA,YAAaE,EAA3C,EAA2CA,aAW3C,OACE,qCACE,uCACA,6NAMA,cAAC,EAAD,CAAYhB,WAAYA,IACxB,cAAC,EAAD,CAAUS,SAAUA,IACpB,cAAC,EAAD,CAAmBK,YAAaA,IAChC,cAAC,EAAD,CAAoBE,aAAcA,QCjCzBgE,MAlBf,YAA+C,IAA5BC,EAA2B,EAA3BA,cAAeC,EAAY,EAAZA,SAGhC,OACE,gCACE,iCACGA,EAAS,GADZ,KACkBD,EAAcE,KADhC,MACyC,OAEzC,iCACGD,EAAS,GADZ,KACkBD,EAAcG,MADhC,MAC0C,OAE1C,iCACGF,EAAS,GADZ,KACkBD,EAAcI,aCkEvBC,MA5Ef,YASI,IARFtB,EAQC,EARDA,SACAuB,EAOC,EAPDA,QACAC,EAMC,EANDA,YACApB,EAKC,EALDA,cACAa,EAIC,EAJDA,cACAQ,EAGC,EAHDA,aACAC,EAEC,EAFDA,UACAC,EACC,EADDA,UAEMC,EACJ,kBACmB,WAAlBxB,EACG,uDACkB,cAAlBA,EACA,iDAEA,OACAA,EACA,sGAEAyB,EAAe,uCAAG,sBAAA5B,EAAA,sEAChB6B,UAAUC,UAAUC,UAAUhC,GADd,OAEtBG,MAAM,aAAeH,EAAW,yBAFV,2CAAH,qDAOrB,OACE,qCACGwB,EAECD,EACE,+EAEA,sFAGJA,EACE,kGACkE,IAChE,wBAAQpG,QAAS0G,EAAjB,SAAmC7B,IAFrC,qBAKA,6JAE6DA,EAF7D,OAODI,GAAiB,8BAAMwB,IAGxB,gCACGL,EACC,wBAAQpG,QAASuG,EAAjB,wBAEA,wBAAQvG,QAASwG,EAAjB,wBAEDJ,GAAWC,GACV,wBAAQrG,QAASsG,EAAjB,8BAKHD,GACC,cAAC,EAAD,CACEP,cAAeA,EACfC,SAAU,CAAC,OAAQ,QAAS,e,MCtCtC,SAASe,EAAT,GAAiE,IAAlDC,EAAiD,EAAjDA,IAAKC,EAA4C,EAA5CA,OAAQC,EAAoC,EAApCA,cAAeC,EAAqB,EAArBA,SAAUpF,EAAW,EAAXA,QAC/CqF,EAAWJ,EAAIzI,KAAI,WAAqC8I,GAAS,IAA3CC,EAA0C,EAA1CA,OAAQC,EAAkC,EAAlCA,YAAaC,EAAqB,EAArBA,UAC7C,OACE,cAACC,EAAD,CAEEC,aAAc,kBAAMP,EAASE,EAAKJ,IAClC9G,OAAQ4B,EAAQuF,GAChBC,YAAaA,EACbI,YAAaT,GAAiBM,GAJzBH,MASX,OAAO,6BAAKD,IAGd,SAASK,EAAT,GAAmE,IAAnDC,EAAkD,EAAlDA,aAAcvH,EAAoC,EAApCA,OAAQoH,EAA4B,EAA5BA,YAAaI,EAAe,EAAfA,YAEjD,EAAmCC,qBAAWC,IAAtCC,EAAR,EAAQA,WAAYC,EAApB,EAAoBA,WACdC,EAAkB7H,GAAU2H,EAI5BG,EAAa,CAAED,kBAAiBE,YAHlBX,EAChBnF,EAAiB4F,GACjBA,GAGEG,EAAYR,EAAc,iBAAmB,OAC7CS,EAAY,CAAEF,YAAaH,GAEjC,OACE,oBAAIM,UAAWF,EAAWG,MAAOF,EAAWnI,QAASyH,EAArD,SACE,sBAAMW,UAAU,QAAQC,MAAOL,MAKtBM,MA5Df,YAKE,IALmE,IAApDtB,EAAmD,EAAnDA,OAAQuB,EAA2C,EAA3CA,MAAOtB,EAAoC,EAApCA,cAAenF,EAAqB,EAArBA,QAASoF,EAAY,EAAZA,SAC9CY,EAAeH,qBAAWC,IAA1BE,WAEJU,EAAY,GAEPzB,EAHIwB,EAAM3I,OAGG,EAAGmH,GAAO,EAAGA,IACjCyB,EAAUC,KACR,cAAC3B,EAAD,CAEEC,IAAKwB,EAAMxB,GACXC,OAAQA,EACRC,cAAeA,EACfC,SAAUA,EACVpF,QAASA,GALJiF,IAUX,OACE,uBAAOqB,UAAU,QAAQC,MAAO,CAAEN,gBAAiBD,GAAnD,SACE,gCAAQU,OCwCCE,MApEf,YASI,IARF1B,EAQC,EARDA,OACAZ,EAOC,EAPDA,QACAuC,EAMC,EANDA,WACAC,EAKC,EALDA,OACAC,EAIC,EAJDA,WACAC,EAGC,EAHDA,QACAC,EAEC,EAFDA,aACAC,EACC,EADDA,UA4BA,OACE,qCAEE,4BA5BJ,WACE,OAAQL,GACN,IAAK,MACH,OAAOC,IAAW5B,EAAS,4BAA8B,YAC3D,IAAK,UACH,OAAO4B,IAAW5B,EACd,iDACA,mCACN,IAAK,OACH,MAAO,eACT,IAAK,UACH,OAAOA,IAAW6B,EACd,kCACA,qCACN,IAAK,UACH,MAAO,gCACT,QAEE,OADAI,QAAQC,IAAI,UAAWP,GAChB,wCAULQ,KAGY,YAAfR,EACC,wBAAQ3I,QAAS8I,EAAjB,qBACE1C,EACF4C,EACE,qCACE,wBAAQhJ,QAAS,kBAAM+I,EAAa/B,IAApC,gCAGA,wBAAQhH,QAAS,kBAAM+I,EAAa,EAAI/B,IAAxC,oCAKF,wBAAQhH,QAAS+I,EAAjB,sBAGF,mEACqC,IACnB,YAAfJ,EAA2B,OAAS,SAFvC,e,OC1DO,MAA0B,+CCA1B,MAA0B,sCCA1B,MAA0B,gECA1B,MAA0B,+DCUnCS,EAAa,CACjB,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,EAAG,GACJ,CAAC,GAAI,GACL,CAAC,GAAI,GACL,EAAE,GAAI,GACN,EAAE,EAAG,GACL,EAAE,EAAG,IAIP,SAASC,EAAWC,EAAMC,EAAMC,GAE9B,IADA,IAAIjB,EAAQ,GACHnG,EAAI,EAAGA,EAAIkH,EAAMlH,IAAK,CAE7B,IADA,IAAI2E,EAAM,GACD0C,EAAI,EAAGA,EAAIF,EAAME,IACxB1C,EAAI0B,KAAa,UAARe,EAAkB,GAAKA,GAElCjB,EAAME,KAAK1B,GAEb,OAAOwB,EAIT,SAASmB,EAAcC,EAAQC,GAI7B,IAHA,IAAMC,EAAaF,EAAO/J,OAC1B,EAAqB,CAAC+J,EAAO,GAAG/J,OAAQ+J,EAAO,GAAG,GAAG/J,QAA9C0J,EAAP,KAAaC,EAAb,KACIO,EAAgBT,EAAWC,EAAMC,EAAM,SAClCxC,EAAM,EAAGA,EAAMuC,EAAMvC,IAC5B,IAAK,IAAIK,EAAM,EAAGA,EAAMmC,EAAMnC,IAAO,CACnC0C,EAAc/C,GAAKK,GAAO,GAC1B,IAAK,IAAIhC,EAAI,EAAGA,EAAIyE,EAAYzE,IAC9B0E,EAAc/C,GAAKK,GAAKwC,EAAMxE,IAAMuE,EAAOvE,GAAG2B,GAAKK,GAIzD,OAAO0C,EAMT,SAASC,EAAmBC,EAAOC,GACjC,IAAIC,EAAQ,YAAOF,GACnB,OAAQC,EAAO3K,MACb,IAAK,QACH,MAAO,GACT,IAAK,UACH,IAAM+H,EAAqB4C,EAArB5C,OAAQN,EAAakD,EAAblD,IAAKK,EAAQ6C,EAAR7C,IAEnB,OADA8C,EAASzB,KAAK,CAAEpB,SAAQN,MAAKK,QACtB8C,EACT,IAAK,OAEH,OAAIF,IAAU,GAELA,GAEPE,EAASC,MACFD,GAEX,QAEE,OADAjB,QAAQC,IAAI,mDACLc,GAIb,SAASI,EAAcJ,EAAOC,GAC5B,IAAIC,EAAQ,YAAOF,GACnB,OAAQC,EAAO3K,MACb,IAAK,QACH,OAAO+J,EAAWY,EAAOX,KAAMW,EAAOV,KAAM,MAC9C,IAAK,aAGH,OADAW,EAASD,EAAOlD,KAAKkD,EAAO7C,KAAO6C,EAAO5C,OACnC6C,EACT,IAAK,OAGH,OADAA,EAASD,EAAOlD,KAAKkD,EAAO7C,KAAO,KAC5B8C,EACT,QAEE,OADAjB,QAAQC,IAAI,8CACLc,GAQb,SAASK,EACPC,GAOC,IANDC,EAMA,uDANiB,SAACC,KAGlBlB,EAGA,uDAHO,EACPC,EAEA,uDAFO,EACPkB,EACA,uDADU,EAKV,EAA8B1L,oBAAS,GAAvC,mBAAO2L,EAAP,KAAgBC,EAAhB,KAGA,EAAkC5L,mBAAS,MAA3C,mBAAO6L,EAAP,KAAkBC,EAAlB,KAGA,EAA2CC,qBAAWf,EAAoB,IAA1E,mBAAOgB,EAAP,KAAoBC,EAApB,KAEA,EAAiCF,qBAC/BV,EACAf,EAAWC,EAAMC,EAAM,OAFzB,mBAAO0B,EAAP,KAAeC,EAAf,KAKMC,EAAcC,IAChB,MACAC,IACA,OACA,UAEE1C,EAAa+B,EACf,UACc,OAAdE,EACA,UACAO,EAEEvC,EACW,YAAfD,EACI,EAAIiC,EACW,QAAfjC,EACA,KACAoC,EAAYA,EAAYnL,OAAS,GAAGyH,OAIpCiE,EAAaC,IAEbC,EAAcC,IACdlD,EAAQmB,EACZ,CAACuB,EAAQK,EAAYE,GACrB,CAAC,SAAU,cAAe,cAItB3C,EACW,YAAfF,EACI,KACuB,IAAvBoC,EAAYnL,OACZ0K,EACA,EAAIS,EAAYA,EAAYnL,OAAS,GAAGyH,OA6B9C,SAASqE,EAAatE,GACpB,IAAK,IAAIL,EAAM,EAAGA,EAAMuC,EAAMvC,IAC5B,GAAyB,OAArBkE,EAAOlE,GAAKK,GACd,OAAOL,EAGX,OAAO,KAIT,SAASsE,IAEP,IAAK,IAAIjE,EAAM,EAAGA,EAAMmC,EAAMnC,IAC5B,GAA8B,OAA1B6D,EAAO3B,EAAO,GAAGlC,GACnB,OAAO,EAGX,OAAO,EAIT,SAASgE,IACP,GAAIL,EAAYnL,OAAS,EAAI6K,EAAU,EAErC,OAAO,EAIT,IADA,MAA6BM,EAAYA,EAAYnL,OAAS,GAAtDyH,EAAR,EAAQA,OAAQN,EAAhB,EAAgBA,IAAKK,EAArB,EAAqBA,IACZuE,EAAI,EAAGA,EAAIvC,EAAWxJ,OAAQ+L,IAGrC,IAFA,kBAAmBvC,EAAWuC,GAA9B,GAAOC,EAAP,KAAYC,EAAZ,KAESC,GAAK,EAAGA,EAAI,EAAGA,IAEtB,GAAIC,EAAU1E,EAAQN,EAAM+E,EAAIF,EAAKxE,EAAM0E,EAAID,EAAKD,EAAKC,GACvD,OAAO,EAIb,OAAO,EAMT,SAASN,IACP,IAAIS,EAAQ3C,EAAWC,EAAMC,GAAM,GACnC,GAAIwB,EAAYnL,OAAS,EAAI6K,EAAU,EAErC,OAAOuB,EAIT,IADA,MAA2BjB,EAAYA,EAAYnL,OAAS,GAAtDyH,EAAN,EAAMA,OAAQN,EAAd,EAAcA,IAAKK,EAAnB,EAAmBA,IACVuE,EAAI,EAAGA,EAAIvC,EAAWxJ,OAAQ+L,IAIrC,IAHA,kBAAmBvC,EAAWuC,GAA9B,GAAOC,EAAP,KAAYC,EAAZ,KAGSC,EAAe,EAAVrB,EAAaqB,EAAI,EAAGA,IAChC,GAAIC,EAAU1E,EAAQN,EAAM+E,EAAIF,EAAKxE,EAAM0E,EAAID,EAAKD,EAAKC,GAEvD,IAAK,IAAII,EAAIH,EAAGG,EAAIH,EAAIrB,EAASwB,IAC/BD,EAAMjF,EAAMkF,EAAIL,GAAKxE,EAAM6E,EAAIJ,IAAO,EAK9C,OAAOG,EAIT,SAASP,IAEP,IADA,IAAIO,EAAQ3C,EAAWC,EAAMC,GACpBnC,EAAM,EAAGA,EAAMmC,EAAMnC,IAE5B,IADA,IAAM8E,EAAmC,OAA1BjB,EAAO3B,EAAO,GAAGlC,GACvBL,EAAM,EAAGA,EAAMuC,EAAMvC,IAC5BiF,EAAMjF,GAAKK,GAAO8E,EAGtB,OAAOF,EAIT,SAASD,EAAU1E,EAAQN,EAAKK,EAAKwE,EAAKC,GACxC,IAAK,IAAII,EAAI,EAAGA,EAAIxB,EAASwB,IAAK,CAChC,IAAK7J,EAAS2E,EAAMkF,EAAIL,EAAhBnC,EAAqBrC,EAAM6E,EAAIJ,EAEvC,GAAI,EAAIzJ,GAAKA,GAAKkH,GAAQ,EAAIG,GAAKA,GAAKF,GAAQ0B,EAAO7I,GAAGqH,KAAOpC,EAC/D,OAAO,EAIX,OAAO,EAMT,SAAS8E,IACPxB,GAAW,GACXE,EAAa,MAEbG,EAAoB,CAAE1L,KAAM,UAE5B4L,EAAe,CAAE5L,KAAM,QAASgK,OAAMC,SAIxC,SAAS6C,IACPzB,GAAW,GAIb,SAAS0B,EAAWjF,EAAKC,GACvB,IAAIN,EAAM2E,EAAatE,GAEJ,YAAfuB,GAA4BtB,IAAWwB,GAAsB,OAAR9B,IACvDiE,EAAoB,CAAE1L,KAAM,UAAW+H,SAAQN,MAAKK,QAEpD8D,EAAe,CAAE5L,KAAM,aAAc+H,SAAQN,MAAKK,SAOtD,OApJAkF,qBAAU,WACO,IAAX1D,EACF2B,EAAegC,GACK,IAAX3D,GACT2B,EAAeiC,KAEhB,CAAC5D,EAAQ2B,IAEZ+B,qBAAU,WACW,SAAf3D,GACF4B,EAAekC,KAEhB,CAAC9D,EAAY4B,IAEhB+B,qBAAU,WACW,IAAfzD,GACF0B,EAAemC,KAEhB,CAAC7D,EAAY0B,IAkIT,CACLhC,QACAI,aACAE,aACAD,SACAuD,YACAC,YACAC,aACAxB,gBC7TJ,SAAS8B,EAAc3C,EAAOC,GAC5B,GACO,UADCA,EAAO3K,KAEX,OAAOsN,EAGP,IAAI1C,EAAQ,eAAQF,GAEpB,OADAE,EAASD,EAAO3K,KAAO,MAAQ,EACxB4K,EAIb,IAAM0C,EAAiB,CAAE5G,KAAM,EAAGC,MAAO,EAAGC,MAAO,GAInD,SAAS2G,EAAWlE,EAAYC,GAC9B,MAAwCkC,qBACtC6B,EACAC,GAFF,mBAAO9G,EAAP,KAAsBgH,EAAtB,KA6BA,OArBAR,qBAAU,WACO,IAAX1D,EACFkE,EAAe,CAAExN,KAAM,QACH,IAAXsJ,GACTkE,EAAe,CAAExN,KAAM,WAExB,CAACsJ,IACJ0D,qBAAU,WACW,SAAf3D,GACFmE,EAAe,CAAExN,KAAM,WAExB,CAACqJ,IAUG,CAAE7C,gBAAeiH,aANHC,uBAAY,WAC/BF,EAAe,CAAExN,KAAM,YACtB,KC9CU,UAA0B,2CCA1B,MAA0B,6CCA1B,OAA0B,oDCA1B,OAA0B,oDCA1B,OAA0B,4CCkBzC,SAAS2N,GAAmBjD,EAAOC,GACjC,IAAMC,EAAQ,YAAOF,GACrB,OAAQC,EAAO3K,MACb,IAAK,MACH4K,EAASzB,KAAKwB,EAAOiD,SACrB,MACF,IAAK,SACHhD,EAASiD,QACT,MACF,QACElE,QAAQC,IAAI,2CAGhB,OAAOgB,EAMT,SAASkD,GACP/F,EACAjB,EACAiH,EACA/I,EACAW,EACAP,EACA6F,EACA+C,EACAC,GAKA,IAAMC,EAA2B,OAAbH,EAAoB,EAAI,EAE5C,EAAsCtO,mBAASiD,KAAKC,MAAsB,EAAhBD,KAAKE,WAA/D,mBAAOoI,EAAP,KAAoBmD,EAApB,KAGA,EASIpD,EAAQC,EAAaC,GARvBhC,EADF,EACEA,MACAI,EAFF,EAEEA,WACAE,EAHF,EAGEA,WACAD,EAJF,EAIEA,OACAuD,EALF,EAKEA,UACAC,EANF,EAMEA,UACAC,EAPF,EAOEA,WACAxB,EARF,EAQEA,aAIF,EAAwCgC,EAAWlE,EAAYC,GAAvD9C,EAAR,EAAQA,cAAeiH,EAAvB,EAAuBA,aAGvB,EAA6DjC,qBAC3DmC,GACA,IAFF,mBAAOS,EAAP,KAA6BC,EAA7B,KAIMC,EAAuBZ,uBAAY,SAACE,GACxCS,EAA6B,CAAErO,KAAM,MAAO4N,cAC3C,IAmKH,SAASW,IACPvJ,EAAY,MACZ6H,IACAsB,EAAezL,KAAKC,MAAsB,EAAhBD,KAAKE,WAyDjC,OAjJAoK,qBAAU,WACR,OAAO,WACLgB,EAAe,CAAEhO,KAAM8G,EAAU,QAAU,UAC3CmE,EAAenE,EAAU0H,GAAiBC,OAG3C,CAAC3H,EAASkH,EAAgB/C,IAO7B+B,qBAAU,WACY,IAAhBkB,GACFT,MAGD,CAACS,EAAaT,IAKjBT,qBAAU,WACJlG,GAA2B,IAAhBoH,EAEbjD,EAAeyD,IACN5H,GAA2B,IAAhBoH,GACpBjD,EAAe0D,KAEhB,CAAC7H,EAASoH,EAAajD,IAG1B+B,qBAAU,WAEN/B,EADEnE,EACa8H,EAEAC,KAEhB,CAAC/H,EAASmE,IAKb+B,qBAAU,WACJoB,EAAqB9N,OAAS,IAC5B8N,EAAqB,GAAGU,OAAS/G,EAAO+G,MA7GhD,SAAuBlB,GACrB,OAAQA,EAAQ5N,MACd,IAAK,gBACHoF,EAAiBwI,EAAQjI,eACzB,MACF,IAAK,aACHX,GAAY,SAAC+J,GAGX,MAAO,CAAExP,KAFIqO,EAAQrO,MAAQwP,EAAIxP,KAElBqB,OADAgN,EAAQhN,QAAUmO,EAAInO,WAGvC,MAIF,IAAK,QACHiM,IACAsB,EAAe,EAAIP,EAAQ5C,aAC3B8B,IACA,MACF,IAAK,OACHC,EAAWa,EAAQ9F,IAAK,GACxB,MACF,IAAK,UACHyD,EAAa,GACb,MAEF,IAAK,OACH7F,MAAM,yCACNuI,IACA,MACF,IAAK,QACHvI,MAAM,0DACNuI,IACA,MAEF,IAAK,QACiB,IAAhBC,IACFxI,MAAM,uBACN6I,KAEF,MACF,QACE5E,QAAQC,IAAI,8BAoEZoF,CAAcZ,EAAqB,IAErCC,EAA6B,CAAErO,KAAM,eAOzCgN,qBAAU,WACJlG,GAA2B,IAAhBoH,GACbF,EAAe,CAAEhO,KAAM,gBAAiB2F,oBAGzC,CAACmB,EAASkH,EAAgBE,EAAavI,IAE1CqH,qBAAU,WACY,IAAhBkB,GAAsBpH,GACxBkH,EAAe,CACbhO,KAAM,aACNT,KAAMwI,EAAOxI,KACbqB,OAAQmH,EAAOnH,WAIlB,CAACkG,EAASkH,EAAgBE,EAAanG,EAAOxI,KAAMwI,EAAOnH,SAE9DoM,qBAAU,WACJlG,GAA0B,YAAfuC,GACb2E,EAAe,CAAEhO,KAAM,QAASgL,kBAGjC,CAAClE,EAASkH,EAAgBhD,EAAa3B,IAiEnC,CACL7C,gBACAyC,QACAI,aACAC,SACAC,aACAE,aAzDF,WACqB,YAAfJ,GAGF8E,GAAe,SAACc,GACd,OAAQtJ,GACN,IAAK,SACH,OAAOjD,KAAKC,MAAsB,EAAhBD,KAAKE,UACzB,IAAK,YACH,OAAO,EAAIqM,EACb,IAAK,QAEH,MAAsB,SAAf5F,EAAwB4F,EAAY,EAAI3F,EACjD,IAAK,SAEH,MAAsB,SAAfD,EAAwB4F,EAAY3F,EAC7C,QAIE,OAHAK,QAAQC,IACN,0DAEK,EAAIqF,MAInBpC,IACAC,KAiCAlF,SA9BF,SAAkBE,GAEG,IAAfyB,IACFwD,EAAWjF,EAAK,GAChBkG,EAAe,CAAEhO,KAAM,OAAQ8H,UA2BjC0B,QAvBF,WACE+B,EAAa,GACbyC,EAAe,CAAEhO,KAAM,aAsBvBgH,aAjBF,WACEgH,EAAe,CAAEhO,KAAM,SACvBuO,IACAtD,EAAeiE,KAefZ,wBChLWa,OAzHf,YAUI,IATF5J,EASC,EATDA,SACAwC,EAQC,EARDA,OACAjB,EAOC,EAPDA,QACAiH,EAMC,EANDA,SACA/I,EAKC,EALDA,YACAW,EAIC,EAJDA,cACAP,EAGC,EAHDA,iBACA6I,EAEC,EAFDA,YACA/H,EACC,EADDA,OAIQ+E,EAAmB5C,qBAAW+G,IAA9BnE,eAIF+C,EAAiBN,uBACrB,SAACE,GACC1H,EAAOmJ,QAAQ,CACbzB,QAAQ,2BAAMA,GAAP,IAAgBkB,KAAM/G,EAAO+G,OACpCQ,QAAS/J,MAIb,CAACwC,EAAO+G,KAAM5I,EAAQX,IAKxB,EAWIuI,GACF/F,EACAjB,EACAiH,EACA/I,EACAW,EACAP,EACA6F,EACA+C,EACAC,GAnBAzH,EADF,EACEA,cACAyC,EAFF,EAEEA,MACAI,EAHF,EAGEA,WACAC,EAJF,EAIEA,OACAC,EALF,EAKEA,WACAE,EANF,EAMEA,aACA7B,EAPF,EAOEA,SACA4B,EARF,EAQEA,QACAxC,EATF,EASEA,aACAsH,EAVF,EAUEA,qBA4CF,OA3BAtB,qBAAU,WAKR,OAJA9G,EAAOqJ,UAAU,CACfnJ,SAAU,CAACb,GACXiK,cAAc,IAET,WACLtJ,EAAOuJ,YAAY,CAAErJ,SAAU,CAACb,QAGjC,CAACW,EAAQX,EAAUuB,EAASkH,EAAgB/C,IAI/C+B,qBAAU,WAIR,IAAM0C,EAAW,CAAE9B,QAHnB,SAAuB+B,GACrBrB,EAAqBqB,EAAM/B,WAI7B,OADA1H,EAAO0J,YAAYF,GACZ,WACLxJ,EAAO2J,eAAeH,MAGvB,CAACxJ,EAAQoI,IAKV,qCACE,cAAC,EAAD,CACE/I,SAAUA,EACVuB,QAASA,EACTC,YAA0B,OAAbgH,EACbpI,cAAeA,EACfa,cAAeA,EACfQ,aAAcA,EACdC,UAAWgH,EACX/G,UAAW+G,IAEZF,GACC,cAAC,EAAD,CACErG,OAAQ,EACRuB,MAAOA,EACPtB,cAAe,IAAM4B,EACrB/G,QAAS,CAACuF,EAAOnH,OAAQmN,EAASnN,QAClCgH,SAAUA,IAGbmG,GACC,cAAC,EAAD,CACErG,OAAQ,EACRZ,QAASA,EACTuC,WAAYA,EACZC,OAAQA,EACRC,WAAYA,EACZC,QAASA,EACTC,aAAcA,EACdC,WAAW,QChHNoG,OAbf,YAA8D,IAAvCtJ,EAAsC,EAAtCA,cAAe8D,EAAuB,EAAvBA,MAAOyF,EAAgB,EAAhBA,aAC3C,OACE,qCACE,yFACA,wBAAQrP,QAASqP,EAAjB,6BACA,cAAC,EAAD,CACEvJ,cAAeA,EACfC,SAAU,CAAC6D,EAAM,GAAK,QAAS,QAASA,EAAM,GAAK,eC0C5C0F,OAnDf,YAOI,IANF1F,EAMC,EANDA,MACAjB,EAKC,EALDA,WACAC,EAIC,EAJDA,OACAC,EAGC,EAHDA,WACAC,EAEC,EAFDA,QACAC,EACC,EADDA,aAuBA,OACE,qCAEE,4BAvBJ,WACE,OAAQJ,GACN,IAAK,MACH,MAAO,mBAAqBiB,EAAMhB,GAAU,aAC9C,IAAK,UACH,OACEgB,EAAM,EAAIhB,GAAU,wBAA0BgB,EAAMhB,GAAU,SAElE,IAAK,OACH,MAAO,eACT,IAAK,UACH,MAAO,QAAUgB,EAAMf,GAAc,2BACvC,IAAK,UACH,MAAO,gCACT,QAEE,OADAI,QAAQC,IAAI,UAAWP,GAChB,wCAOLQ,KAGY,YAAfR,EACC,wBAAQ3I,QAAS,kBAAM8I,EAAQD,IAA/B,qBAEA,qCACE,yBAAQ7I,QAAS,kBAAM+I,EAAa,IAApC,uBACaa,EAAM,GADnB,aAGA,yBAAQ5J,QAAS,kBAAM+I,EAAa,IAApC,uBACaa,EAAM,GADnB,oBC8BK2F,OA/Df,YAAwD,IAAnClI,EAAkC,EAAlCA,OAAQgG,EAA0B,EAA1BA,SAAUgC,EAAgB,EAAhBA,aAErC,EAAsCtQ,mBAAS,MAA/C,mBAAOuL,EAAP,KAAoBmD,EAApB,KAKA,EASIpD,EAAQC,GARV/B,EADF,EACEA,MACAI,EAFF,EAEEA,WACAE,EAHF,EAGEA,WACAD,EAJF,EAIEA,OACAuD,EALF,EAKEA,UACAC,EANF,EAMEA,UACAC,EAPF,EAOEA,WACAxB,EARF,EAQEA,aAIM/E,EAAkB+G,EAAWlE,EAAYC,GAAzC9C,cAkBR,OACE,qCACE,cAAC,GAAD,CACEA,cAAeA,EACf8D,MAAO,CAACvC,EAAOxI,KAAMwO,EAASxO,MAC9BwQ,aAAcA,IAEhB,cAAC,EAAD,CACErI,OAAQ6B,GAAcyB,EACtB/B,MAAOA,EACPtB,cAA8B,OAAf4B,EACf/G,QAAS,CAACuF,EAAOnH,OAAQmN,EAASnN,QAClCgH,SA1BN,SAAkBE,GAChBiF,EAAWjF,EAAKyB,MA2Bd,cAAC,GAAD,CACEe,MAAO,CAACvC,EAAOxI,KAAMwO,EAASxO,MAC9B8J,WAAYA,EACZC,OAAQA,EACRC,WAAYA,EACZC,QA7BN,SAAiBzB,GACfwD,EAAaxD,IA6BT0B,aA1BN,SAAsB1B,GACpBoG,EAAepG,GACf8E,IACAC,WC5BWoD,OAbf,YAA6D,IAAnC1J,EAAkC,EAAlCA,cAAe2J,EAAmB,EAAnBA,gBACvC,OACE,qCACE,qEACA,wBAAQzP,QAASyP,EAAjB,6BACA,cAAC,EAAD,CACE3J,cAAeA,EACfC,SAAU,CAAC,OAAQ,QAAS,eCsErB2J,OAlEf,YAA8D,IAAtCrI,EAAqC,EAArCA,OAAQgG,EAA6B,EAA7BA,SAAUoC,EAAmB,EAAnBA,gBAEhClF,EAAmB5C,qBAAW+G,IAA9BnE,eAGR,EAAsCxL,mBAAS,MAA/C,mBAAOuL,EAAP,KAAoBmD,EAApB,KAGA,EASIpD,EAAQC,EAAaC,GARvBhC,EADF,EACEA,MACAI,EAFF,EAEEA,WACAE,EAHF,EAGEA,WACAD,EAJF,EAIEA,OACAuD,EALF,EAKEA,UACAC,EANF,EAMEA,UACAC,EAPF,EAOEA,WACAxB,EARF,EAQEA,aAIM/E,EAAkB+G,EAAWlE,EAAYC,GAAzC9C,cAkBR,OACE,qCACE,cAAC,GAAD,CACEA,cAAeA,EACf2J,gBAAiBA,IAEnB,cAAC,EAAD,CACEzI,OAAQ,EACRuB,MAAOA,EACPtB,cAA8B,IAAf4B,EACf/G,QAAS,CAACuF,EAAOnH,OAAQmN,EAASnN,QAClCgH,SAzBN,SAAkBE,GAChBiF,EAAWjF,EAAK,MAchB,0CAaE,cAAC,EAAD,CACEJ,OAAQ,EACRZ,SAAS,EACTuC,WAAYA,EACZC,OAAQA,EACRC,WAAYA,EACZC,QA9BN,SAAiBzB,GACfwD,EAAa,IA8BT9B,aA3BN,SAAsB1B,GACpBoG,EAAepG,GACf8E,IACAC,KAyBIpD,WAAW,QCzEJ,I,MAAA,IAA0B,0CCyBzC,SAAS2G,GAAT,GAA4C,IAA5BC,EAA2B,EAA3BA,IAAKC,EAAsB,EAAtBA,MAAOC,EAAe,EAAfA,YAC1B,OACE,oBACEC,KAAMH,EACNxH,UAAU,yBACVzI,OAAO,SACPqQ,IAAI,sBAJN,UAME,qBAAK5H,UAAU,aAAa6H,IAAKJ,EAAOK,IAAI,KAC5C,sBAAM9H,UAAU,eAAhB,SAAgC0H,OAKvBK,I,GAAAA,GAjCf,YAAqD,IAApCC,EAAmC,EAAnCA,WAAmC,IAAvB7P,UACrB8P,EAAQ,CACZ,CAAC,mBAAoB,iCAAkCC,IACvD,CACE,qBACAF,EACc,gBANgC,MAAX,QAAW,GCNrC,ywECAA,2kEFgBb,OACE,qBAAKhI,UAAU,cAAf,SACGiI,EAAM/R,KAAI,mCAAEwR,EAAF,KAAeF,EAAf,KAAoBC,EAApB,YACT,cAACF,GAAD,CAAgBG,YAAaA,EAAaF,IAAKA,EAAKC,MAAOA,GAAhDD,S,kBGfbW,GAAcC,aAAH,iLAEG,qBAAGC,MAAkB5I,cAC1B,qBAAG4I,MAAkB3I,cCLpC,SAAS4I,GAAc5Q,EAAK6Q,GAC1B,IAAMC,EAAaC,KAAKC,MAAMC,aAAaC,QAAQlR,IACnD,EAA0Bf,mBACT,OAAf6R,EAAsBD,EAAeC,GADvC,mBAAOrR,EAAP,KAAc0R,EAAd,KAGA,SAASC,EAAcC,GACrBF,EAASE,GACTJ,aAAaK,QAAQtR,EAAK+Q,KAAKQ,UAAUF,IAM3C,OAHmB,OAAfP,GACFM,EAAc3R,GAET,CAACA,EAAO2R,GCPjB,SAASI,GAAS5Q,GAChB,MAAsC3B,mBAAS,MAA/C,mBAAOwS,EAAP,KAAoBhH,EAApB,KAUA,OAPA+B,qBAAU,WACJiF,GAAe7Q,GARrB,IAAI8Q,MASUD,GATCE,OAWblH,EAAe,QACd,CAACgH,EAAa7Q,IAEV,CAAE6J,kBCYX,IAAMmH,GAAS,CACbC,MAAO,CAAErS,KAAM,QAASuI,WAAY,UAAWC,WAAY,WAC3D8J,KAAM,CAAEtS,KAAM,OAAQuI,WAAY,UAAWC,WAAY,YAErDF,GAAeiK,wBAAcH,GAAOC,OACpCjD,GAAemD,0BA+JNC,OAhJf,WAKE,MAA0BpB,GAAc,QAASgB,GAAOC,OAAxD,mBAAOlB,EAAP,KAAcsB,EAAd,KAKA,EAAkCrB,GAAc,SAAS,GAAzD,mBAAOhQ,EAAP,KAAkBsR,EAAlB,KAIQzH,EAAmB+G,GAAS5Q,GAA5B6J,eAIR,EAAwBmG,GAAc,OAAQ,YAA9C,mBAAO7R,EAAP,KAAaC,EAAb,KACA,EAA4B4R,GAAc,SAAU3O,KAApD,mBAAO7B,EAAP,KAAeC,EAAf,KAKA,EAAgCpB,mBAAS,MAAzC,mBAAOsO,EAAP,KAAiB/I,EAAjB,KACA,SAAS2N,EAAenS,EAAK0J,GAC3BlF,GAAY,SAAC4N,GACX,GAAIA,EAAM,CACR,IAAMC,EAAI,eAAQD,GAElB,OADAC,EAAKrS,GAAO0J,EACL2I,MAQb,MAAgCpT,mBAAS,MAAzC,mBAAOqT,EAAP,KAAiB7N,EAAjB,KAGA,SAAS8N,IAEP9N,EAAY,MACZD,EAAY,MAEZE,EAAY,MACZC,EAAW,MACXC,EAAiB,MAInB,MAAgC3F,mBAAS,MAAzC,mBAAO8F,EAAP,KAAiBL,EAAjB,KACA,EAA8BzF,mBAAS,MAAvC,mBAAOqH,EAAP,KAAgB3B,EAAhB,KACA,EAA0C1F,mBAAS,MAAnD,mBAAOkG,EAAP,KAAsBP,EAAtB,KAGA,EAAegM,GAAc,OApE/B,WAGE,IAFA,IAAMvL,EAAQ,uCACViJ,EAAO,GACFhJ,EAAI,EAAGA,EAAI,GAAIA,IACtBgJ,GAAQjJ,EAAMnD,KAAKC,MAAMD,KAAKE,SAAWiD,EAAMvF,SAEjD,OAAOwO,EA8D8BkE,IAA9BlE,EAAP,oBAEM5I,GAAS+M,mBAAQ,kBAAM,IAAIC,IAAO,CAAEC,WC7GlB,6CD6G8BC,aC5G5B,6CD4G0CtE,WAAS,CAC3EA,IAKF,OACE,cAACxG,GAAa+K,SAAd,CAAuBpT,MAAOkR,EAA9B,SACE,eAAC/B,GAAaiE,SAAd,CAAuBpT,MAAO,CAAEgL,kBAAhC,UACE,cAACgG,GAAD,CAAaE,MAAOA,IAEpB,2CAEA,eAAC,EAAD,WACE,eAAC,EAAD,CAAY/R,MAAM,EAAlB,UACE,cAAC,EAAD,CAAYE,UAAU,EAAMC,KAAMA,EAAMC,QAASA,IACjD,cAAC,EAAD,CACEF,UAAU,EACVsB,OAAQA,EACRC,UAAWA,OAIf,cAAC,EAAD,CAAWI,UAAWkQ,EAAMnR,KAAMkB,YA5E1C,WACEuR,EAAwB,UAAftB,EAAMnR,KAAmBoS,GAAOE,KAAOF,GAAOC,UA4EjD,cAAC,EAAD,CAAWjR,UAAWA,EAAWC,YAxEzC,WACEqR,GAActR,MAyEP2M,GACC,eAAC,EAAD,CAAY3O,MAAM,EAAlB,UACE,cAAC,EAAD,CACEE,SAAuB,UAAbwT,EACVvT,KAAMwO,EAASxO,KACfC,QAAS,SAACD,GAAD,OAAUoT,EAAe,OAAQpT,MAE5C,cAAC,EAAD,CACED,SAAuB,UAAbwT,GAAqC,aAAbA,EAClClS,OAAQmN,EAASnN,OACjBC,UAAW,SAACD,GAAD,OAAY+R,EAAe,SAAU/R,YAM1C,WAAbkS,EACC,cAAC,GAAD,CACEvN,SAAUA,EACVwC,OAAQ,CAAExI,OAAMqB,SAAQkO,QACxBhI,QAASA,EACTiH,SAAUA,EACV/I,YAAaA,EACbW,cAAeA,EACfP,iBAAkBA,EAClB6I,YAAa8E,EACb7M,OAAQA,KAEK,UAAb4M,EACF,cAAC,GAAD,CACE/K,OAAQ,CAAExI,OAAMqB,UAChBmN,SAAUA,EACVgC,aAAcgD,IAED,aAAbD,EACF,cAAC,GAAD,CACE/K,OAAQ,CAAExI,OAAMqB,UAChBmN,SAAUA,EACVoC,gBAAiB4C,IAGnB,cAAC,EAAD,CACE/N,YAAaA,EACbC,YAAaA,EACbC,YAAaA,EACbC,WAAYA,EACZC,iBAAkBA,EAClBc,OAAQA,KAGZ,cAAC,GAAD,CACE4K,WAAW,2CACX7P,UAAWkQ,EAAMnR,a,MErL3BsT,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.9b0b895c.chunk.js","sourcesContent":["function Header({ children }) {\n  // TODO: UI: styling for Header/options (and all sub-components)\n\n  // TODO: MAYBE: COLOUR: add option to add texture to opponent pieces?\n  //  helpful in the event they decdie to always match your colour\n\n  return (\n    <div>\n      {children.map((child, ind) => {\n        return <div key={ind}>{child}</div>;\n      })}\n    </div>\n  );\n}\n\nexport default Header;\n","function PlayerInfo({ children, self }) {\n  return (\n    <>\n      <h3>{self ? \"You\" : \"Opponent\"}</h3>\n      {children}\n    </>\n  );\n}\n\nexport default PlayerInfo;\n","import { useState } from \"react\";\n\nconst defaultName = \"Nameless\";\n\nfunction PlayerName({ editable, name, setName }) {\n  const [isEditing, setIsEditing] = useState(false);\n\n  // click name to edit it\n  function clickHandler() {\n    setIsEditing(true);\n  }\n\n  // type name; update state\n  function changeHandler(e) {\n    // max valid length of 20\n    if (e.target.value.length <= 20) {\n      setName(e.target.value);\n    }\n  }\n\n  // save/submit via enter...\n  function keyDownHandler(e) {\n    if (e.key === \"Enter\") {\n      loseFocusHandler();\n    }\n  }\n\n  // ... or by clicking anywhere outside (losing focus)\n  function loseFocusHandler() {\n    const newName = name === \"\" ? defaultName : name.trim();\n    setName(newName);\n    setIsEditing(false);\n  }\n\n  return (\n    <div>\n      Name:{\" \"}\n      {isEditing ? (\n        <input\n          autoFocus\n          type=\"text\"\n          value={name}\n          placeholder=\"Name\"\n          onChange={changeHandler}\n          onKeyDown={keyDownHandler}\n          onBlur={loseFocusHandler}\n        />\n      ) : editable ? (\n        <button onClick={clickHandler}>{name}</button>\n      ) : (\n        name\n      )}\n    </div>\n  );\n}\n\nexport default PlayerName;\n","function PlayerColour({ editable, colour, setColour }) {\n  function changeHandler(e) {\n    const newColour = e.target.value;\n    setColour(newColour);\n  }\n\n  return (\n    <div>\n      Piece Colour:{\" \"}\n      {editable ? (\n        <input type=\"color\" value={colour} onChange={changeHandler} />\n      ) : (\n        <input type=\"color\" disabled value={colour} />\n      )}\n    </div>\n  );\n}\n\nexport default PlayerColour;\n","function SiteTheme({ themeType, toggleTheme }) {\n  return (\n    <>\n      You're using the <button onClick={toggleTheme}>{themeType}</button> theme.\n    </>\n  );\n}\n\nexport default SiteTheme;\n","function SiteSound({ soundIsOn, toggleSound }) {\n  return (\n    <>\n      Sound is <button onClick={toggleSound}>{soundIsOn ? \"on\" : \"off\"}</button>\n      .\n    </>\n  );\n}\n\nexport default SiteSound;\n","import { useState } from \"react\";\n\nfunction CreateRoom({ createRoom }) {\n  const [restartMethodInput, setRestartMethodInput] = useState(\"alternate\");\n\n  function handleChange(e) {\n    setRestartMethodInput(e.target.value);\n  }\n\n  function handleClick(e) {\n    e.preventDefault();\n    createRoom(restartMethodInput);\n  }\n\n  return (\n    <div>\n      <h3>Create an Online Room</h3>\n      <p>\n        Once created, you will be given a room code which you can share with a\n        friend to join.\n      </p>\n      <p>\n        The first player of the first game will be selected randomly. Select who\n        will go first in subsequent games.\n      </p>\n      <form>\n        {[\"Alternate\", \"Loser\", \"Winner\", \"Random\"].map((method) => {\n          return (\n            <label key={method}>\n              <input\n                type=\"radio\"\n                value={method.toLowerCase()}\n                checked={restartMethodInput === method.toLowerCase()}\n                onChange={handleChange}\n              />\n              {method}\n            </label>\n          );\n        })}\n        <button onClick={handleClick}>Create Room</button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateRoom;\n","import { useState } from \"react\";\n\nfunction JoinRoom({ joinRoom }) {\n  const [roomCodeInput, setRoomCodeInput] = useState(\"\");\n\n  function changeHandler(e) {\n    setRoomCodeInput(e.target.value.toUpperCase().trim());\n  }\n\n  function clickHandler(e) {\n    e.preventDefault();\n    if (roomCodeInput) {\n      joinRoom(roomCodeInput);\n    }\n  }\n\n  return (\n    <div>\n      <h3>Join an Online Room</h3>\n      <p>\n        If someone else has given you a room code, use that code to join their\n        room. Room codes are 4 characters.\n      </p>\n      <form>\n        <input\n          type=\"text\"\n          value={roomCodeInput}\n          placeholder=\"enter room code\"\n          onChange={changeHandler}\n        />\n        <button onClick={clickHandler}>Join Room</button>\n      </form>\n    </div>\n  );\n}\n\nexport default JoinRoom;\n","function CreateMultiPlayer({ playLocally }) {\n  function handleClick(e) {\n    e.preventDefault();\n    playLocally();\n  }\n\n  return (\n    <div>\n      <h3>Play Multi-Player Locally</h3>\n      <p>\n        If you have someone using the same screen as you, play against them\n        locally.\n      </p>\n      <form>\n        <button onClick={handleClick}>Play Locally</button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateMultiPlayer;\n","function CreateSinglePlayer({ playComputer }) {\n  function handleClick(e) {\n    e.preventDefault();\n    playComputer();\n  }\n\n  return (\n    <div>\n      <h3>Play Computer Locally</h3>\n      <p>\n        If you don't have anyone to play against, there is a computer opponent\n        available.\n      </p>\n      <form>\n        <button onClick={handleClick}>Play Computer</button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateSinglePlayer;\n","// unfortunately, colour inputs don't recognize names like \"Red\"\nconst colours = [\n  \"#FF0000\", // Red\n  \"#FF69B4\", // HotPink\n  \"#FF8C00\", // DarkOrange\n  \"#FFD700\", // Gold\n  \"#FF00FF\", // Magenta\n  \"#228B22\", // ForestGreen\n  \"#0000FF\", // Blue\n  \"#8B4513\", // SaddleBrown\n  \"#C0C0C0\", // Silver\n];\nfunction getRandomColour() {\n  return colours[Math.floor(Math.random() * colours.length)];\n}\n\n// consumes RGF colour like \"#4535D5\"\n// NOTE: this actually just inverts the RGB digits... oops\nfunction oppositeColourOf(colour) {\n  // extract RGB\n  const r = parseInt(colour.substring(1, 3), 16) / 255;\n  const g = parseInt(colour.substring(3, 5), 16) / 255;\n  const b = parseInt(colour.substring(5, 7), 16) / 255;\n\n  // convert to HSL, complement, convert back to RGB\n  const [h, s, l] = rgbToHsl(r, g, b);\n  const newH = h > 0.5 ? h - 0.5 : h + 0.5;\n  const [newR, newG, newB] = hslToRgb(newH, s, 1 - l);\n  // above was originally (newH, s, l)\n\n  // put back together into string\n  return (\n    \"#\" +\n    pad(Math.round(newR * 255).toString(16)).toUpperCase() +\n    pad(Math.round(newG * 255).toString(16)).toUpperCase() +\n    pad(Math.round(newB * 255).toString(16)).toUpperCase()\n  );\n}\n\nfunction pad(hexStr) {\n  return hexStr.length === 2 ? hexStr : \"0\" + hexStr;\n}\nfunction rgbToHsl(r, g, b) {\n  const minVal = Math.min(r, g, b);\n  const maxVal = Math.max(r, g, b);\n  const delta = maxVal - minVal;\n  const sum = maxVal + minVal;\n  const avg = (maxVal + minVal) / 2;\n\n  if (delta === 0) {\n    /// this is grey\n    return [0, 0, avg];\n  }\n\n  const deltaR = ((maxVal - r) / 6 + delta / 2) / delta;\n  const deltaG = ((maxVal - g) / 6 + delta / 2) / delta;\n  const deltaB = ((maxVal - b) / 6 + delta / 2) / delta;\n\n  const l = avg;\n  const s = avg < 0.5 ? delta / sum : delta / (2 - sum);\n  const rawH =\n    r === maxVal\n      ? deltaB - deltaG\n      : g === maxVal\n      ? 1 / 3 + deltaR - deltaB\n      : b === maxVal\n      ? 2 / 3 + deltaG - deltaR\n      : \"N/A\";\n  const h = rawH < 0 ? rawH + 1 : rawH > 1 ? rawH - 1 : rawH;\n\n  return [h, s, l];\n}\n\nfunction hslToRgb(h, s, l) {\n  if (s === 0) {\n    // this is grey\n    return [l, l, l];\n  }\n\n  const v2 = l < 0.5 ? l * (1 + s) : l + s - s * l;\n  const v1 = 2 * l - v2;\n  return [help(v1, v2, h + 1 / 3), help(v1, v2, h), help(v1, v2, h - 1 / 3)];\n}\nfunction help(v1, v2, v3) {\n  const newV3 = v3 < 0 ? v3 + 1 : v3 > 1 ? v3 - 1 : v3;\n  if (6 * newV3 < 1) {\n    return v1 + (v2 - v1) * 6 * newV3;\n  } else if (2 * newV3 < 1) {\n    return v2;\n  } else if (3 * newV3 < 2) {\n    return v1 + (v2 - v1) * ((2 / 3 - newV3) * 6);\n  } else {\n    return v1;\n  }\n}\n\nexport { getRandomColour, oppositeColourOf };\n","import { getRandomColour } from \"./../Colours.js\";\n\nfunction useLobby(\n  setOpponent,\n  setPlayType,\n  setRoomCode,\n  setIsOwner,\n  setRestartMethod,\n  getRoomOccupancy\n) {\n  //// Helpers\n\n  function generateUnusedRoomCode() {\n    // omit 0/O, 1/I/L just in case\n    const chars = \"ABCDEFGHJKMNPQRSTUVXYZ23456789\";\n\n    // loop: generate 4-digit code, check whether it is in use, if not then use\n    let roomCode = \"\";\n    do {\n      roomCode = \"\";\n      for (let i = 0; i < 4; i++) {\n        roomCode += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n    } while (isRoomCodeInUse(roomCode));\n\n    return roomCode;\n  }\n\n  function isRoomCodeInUse(roomCode) {\n    return getRoomOccupancy(roomCode) > 0;\n  }\n\n  //// Externally accessible handlers\n\n  function createRoom(restartMethod) {\n    // randomly generate room code (make sure it doesn't already exist)\n    const generatedRoomCode = generateUnusedRoomCode();\n    // set parameters for room\n    setIsOwner(true);\n    setRestartMethod(restartMethod);\n    setRoomCode(generatedRoomCode);\n    setPlayType(\"online\");\n  }\n\n  // TODO: NEXT: ASYNC: review use of promises/async\n\n  async function joinRoom(roomCode) {\n    const roomOccupancy = await getRoomOccupancy(roomCode);\n    if (roomOccupancy === 0) {\n      alert(\"No room with code \" + roomCode + \" currently exists.\");\n    } else if (roomOccupancy === 1) {\n      // set parameters for room -- will receive restartMethod via message later\n      setIsOwner(false);\n      setRestartMethod(null);\n      setRoomCode(roomCode);\n      setPlayType(\"online\");\n    } else {\n      alert(\"The room with code \" + roomCode + \" already has two players.\");\n    }\n  }\n\n  function playLocally() {\n    // setup opponent (is null til now)\n    setOpponent({ name: \"Player II\", colour: getRandomColour() });\n    // mount component\n    setPlayType(\"local\");\n  }\n\n  function playComputer() {\n    // setup opponent (is null til now)\n    setOpponent({ name: \"Computron 40 5000\", colour: getRandomColour() });\n    // mount component\n    setPlayType(\"computer\");\n  }\n\n  //// Return\n\n  return {\n    createRoom,\n    joinRoom,\n    playLocally,\n    playComputer,\n  };\n}\n\nexport { useLobby };\n","import CreateRoom from \"./CreateRoom.js\";\nimport JoinRoom from \"./JoinRoom.js\";\n\nimport CreateMultiPlayer from \"./CreateMultiPlayer.js\";\nimport CreateSinglePlayer from \"./CreateSinglePlayer.js\";\n\nimport { useLobby } from \"./useLobby.js\";\n\n// TODO: UI: improve design/css of lobby (and sub-components)\n\nfunction Lobby({\n  setOpponent,\n  setPlayType,\n  setRoomCode,\n  setIsOwner,\n  setRestartMethod,\n  pubnub,\n}) {\n  //// pubnub setup\n\n  // TODO: NEXT: ASYNC: review use of promises/async\n  async function getRoomOccupancy(roomCode) {\n    const room = await pubnub.hereNow({ channels: [roomCode] });\n    return room.totalOccupancy;\n  }\n\n  //// useLobby hook, agnostic to chosen network\n\n  const { createRoom, joinRoom, playLocally, playComputer } = useLobby(\n    setOpponent,\n    setPlayType,\n    setRoomCode,\n    setIsOwner,\n    setRestartMethod,\n    getRoomOccupancy\n  );\n\n  //// Return\n\n  return (\n    <>\n      <h2>Lobby</h2>\n      <p>\n        Welcome to the Connect 4 lobby. Here, you can play a friend remotely by\n        creating or joining a room, or you can play locally against a friend or\n        the computer. Rooms can fit up to 2 players.\n      </p>\n\n      <CreateRoom createRoom={createRoom} />\n      <JoinRoom joinRoom={joinRoom} />\n      <CreateMultiPlayer playLocally={playLocally} />\n      <CreateSinglePlayer playComputer={playComputer} />\n    </>\n  );\n}\n\nexport default Lobby;\n","function Results({ resultHistory, headings }) {\n  // TODO: UI: Results\n\n  return (\n    <div>\n      <span>\n        {headings[0]}: {resultHistory.wins} --{\" \"}\n      </span>\n      <span>\n        {headings[1]}: {resultHistory.draws} --{\" \"}\n      </span>\n      <span>\n        {headings[2]}: {resultHistory.loses}\n      </span>\n    </div>\n  );\n}\n\nexport default Results;\n","import Results from \"./../Game/Results.js\";\n\nfunction RoomHeader({\n  roomCode,\n  isOwner,\n  hasOpponent,\n  restartMethod,\n  resultHistory,\n  kickOpponent,\n  closeRoom,\n  leaveRoom,\n}) {\n  const restartMethodMessage =\n    \"In this room, \" +\n    (restartMethod === \"random\"\n      ? \"the first player of a new game is selected randomly.\"\n      : restartMethod === \"alternate\"\n      ? \"players alternate playing first in a new game.\"\n      : // else it's \"winner\" or \"loser\"\n        \"the \" +\n        restartMethod +\n        \" of a game will go first for the next game. In the event of a draw, the same player will go first.\");\n\n  const copyToClipboard = async () => {\n    await navigator.clipboard.writeText(roomCode);\n    alert(\"Room code \" + roomCode + \" copied to clipboard.\");\n  };\n\n  // TODO: UI: improve Header design/css, reorganize into sub-components\n\n  return (\n    <>\n      {hasOpponent ? (\n        /* who is in control */\n        isOwner ? (\n          <div>You created and are in control of this room.</div>\n        ) : (\n          <div>Your opponent created and has control of this room.</div>\n        )\n      ) : /* waiting message & room code */\n      isOwner ? (\n        <div>\n          Waiting for an opponent to join your room. Share your room code{\" \"}\n          <button onClick={copyToClipboard}>{roomCode}</button> with a friend.\n        </div>\n      ) : (\n        <div>\n          Waiting for opponent information to be fetched. If this message\n          persists, then something has gone wrong. The room code is {roomCode}.\n        </div>\n      )}\n\n      {/* explain who goes first for new games */}\n      {restartMethod && <div>{restartMethodMessage}</div>}\n\n      {/* options to close/leave room or kick opponent, as applicable */}\n      <div>\n        {isOwner ? (\n          <button onClick={closeRoom}>Close Room</button>\n        ) : (\n          <button onClick={leaveRoom}>Leave Room</button>\n        )}\n        {isOwner && hasOpponent && (\n          <button onClick={kickOpponent}>Kick Opponent</button>\n        )}\n      </div>\n\n      {/* display W-D-L history against this opponent */}\n      {hasOpponent && (\n        <Results\n          resultHistory={resultHistory}\n          headings={[\"Wins\", \"Draws\", \"Loses\"]}\n        />\n      )}\n    </>\n  );\n}\n\nexport default RoomHeader;\n","import { useContext } from \"react\";\n\nimport { ThemeContext } from \"./../App.js\";\n\nimport { oppositeColourOf } from \"./../Colours.js\";\n\nimport \"./board.css\";\n\nfunction Board({ viewer, board, isViewersTurn, colours, makeMove }) {\n  const { foreground } = useContext(ThemeContext);\n  const rows = board.length;\n  let tableRows = [];\n  // the first row goes on the bottom, visually\n  for (let row = rows - 1; row > -1; row--) {\n    tableRows.push(\n      <Row\n        key={row}\n        row={board[row]}\n        viewer={viewer}\n        isViewersTurn={isViewersTurn}\n        makeMove={makeMove}\n        colours={colours}\n      />\n    );\n  }\n\n  return (\n    <table className=\"board\" style={{ backgroundColor: foreground }}>\n      <tbody>{tableRows}</tbody>\n    </table>\n  );\n}\n\nfunction Row({ row, viewer, isViewersTurn, makeMove, colours }) {\n  let rowCells = row.map(({ player, isHighlight, colIsOpen }, col) => {\n    return (\n      <Cell\n        key={col}\n        clickHandler={() => makeMove(col, viewer)}\n        colour={colours[player]}\n        isHighlight={isHighlight}\n        isClickable={isViewersTurn && colIsOpen}\n      />\n    );\n  });\n\n  return <tr>{rowCells}</tr>;\n}\n\nfunction Cell({ clickHandler, colour, isHighlight, isClickable }) {\n  // colours/styles\n  const { background, foreground } = useContext(ThemeContext);\n  const backgroundColor = colour || background;\n  const borderColor = isHighlight\n    ? oppositeColourOf(backgroundColor)\n    : backgroundColor;\n  const pieceStyle = { backgroundColor, borderColor };\n\n  const cellClass = isClickable ? \"clickable cell\" : \"cell\";\n  const cellStyle = { borderColor: foreground };\n\n  return (\n    <td className={cellClass} style={cellStyle} onClick={clickHandler}>\n      <span className=\"piece\" style={pieceStyle}></span>\n    </td>\n  );\n}\n\nexport default Board;\nexport { Row, Cell }; // for testing\n","function SingleFooter({\n  viewer,\n  isOwner,\n  gameStatus,\n  winner,\n  toPlayNext,\n  forfeit,\n  startNewGame,\n  hasChoice,\n}) {\n  // to display to viewer\n  function gameStatusMessage() {\n    switch (gameStatus) {\n      case \"won\":\n        return winner === viewer ? \"Congratulations, you won!\" : \"You lost.\";\n      case \"forfeit\":\n        return winner === viewer\n          ? \"Your opponent has forfeit the game -- you win.\"\n          : \"You lost by forfeiting the game.\";\n      case \"draw\":\n        return \"It's a draw.\";\n      case \"ongoing\":\n        return viewer === toPlayNext\n          ? \"It's your turn to drop a piece.\"\n          : \"Waiting for your opponent to play.\";\n      case \"waiting\":\n        return \"The game has not started yet.\";\n      default:\n        console.log(\"Error: \", gameStatus);\n        return \"Something has gone wrong. Apologies.\";\n    }\n  }\n\n  // TODO: UI: improve Footer design/css\n\n  //  displayed for viewer's point of view\n  return (\n    <>\n      {/* explain what's going on with the game */}\n      <p>{gameStatusMessage()}</p>\n\n      {/* buttons for forfeiting or restarting, as applicable */}\n      {gameStatus === \"ongoing\" ? (\n        <button onClick={forfeit}>Forfeit</button>\n      ) : isOwner ? (\n        hasChoice ? (\n          <>\n            <button onClick={() => startNewGame(viewer)}>\n              New Game: Go First\n            </button>\n            <button onClick={() => startNewGame(1 - viewer)}>\n              New Game: Go Second\n            </button>\n          </>\n        ) : (\n          <button onClick={startNewGame}>New Game</button>\n        )\n      ) : (\n        <p>\n          Waiting for your opponent to start{\" \"}\n          {gameStatus === \"waiting\" ? \"the \" : \"a new \"}\n          game.\n        </p>\n      )}\n    </>\n  );\n}\n\nexport default SingleFooter;\n","export default __webpack_public_path__ + \"static/media/water_dropwav-6707.104e70a9.mp3\";","export default __webpack_public_path__ + \"static/media/good-6081.4c04bbc5.mp3\";","export default __webpack_public_path__ + \"static/media/failure-drum-sound-effect-2mp3-7184.7b134939.mp3\";","export default __webpack_public_path__ + \"static/media/mixkit-retro-game-notification-212.b222ebf0.wav\";","import { useState, useEffect, useReducer } from \"react\";\n\nimport yourTurnSound from \"./../sounds/water_dropwav-6707.mp3\";\nimport winSound from \"./../sounds/good-6081.mp3\";\nimport loseSound from \"./../sounds/failure-drum-sound-effect-2mp3-7184.mp3\";\nimport drawSound from \"./../sounds/mixkit-retro-game-notification-212.wav\";\n\n//// Generic constants helpers\n\n// the possible line directions from/to a fixed point\nconst directions = [\n  [0, 1],\n  [1, 1],\n  [1, 0],\n  [1, -1],\n  [0, -1],\n  [-1, -1],\n  [-1, 0],\n  [-1, 1],\n];\n\n// create empty tables (for initial states, and on resets)\nfunction emptyTable(rows, cols, val) {\n  let board = [];\n  for (let r = 0; r < rows; r++) {\n    let row = [];\n    for (let c = 0; c < cols; c++) {\n      row.push(val === \"empty\" ? {} : val);\n    }\n    board.push(row);\n  }\n  return board;\n}\n\n// merge data into one table for passing to component\nfunction combineTables(tables, names) {\n  const tableCount = tables.length;\n  const [rows, cols] = [tables[0].length, tables[0][0].length];\n  let combinedTable = emptyTable(rows, cols, \"empty\");\n  for (let row = 0; row < rows; row++) {\n    for (let col = 0; col < cols; col++) {\n      combinedTable[row][col] = {};\n      for (let i = 0; i < tableCount; i++) {\n        combinedTable[row][col][names[i]] = tables[i][row][col];\n      }\n    }\n  }\n  return combinedTable;\n}\n\n//// Reducers\n// outside the hook function to ensure they are pure\n\nfunction moveHistoryReducer(state, action) {\n  let newState = [...state];\n  switch (action.type) {\n    case \"reset\":\n      return [];\n    case \"addMove\":\n      let { player, row, col } = action;\n      newState.push({ player, row, col });\n      return newState;\n    case \"undo\":\n      // NOTE: this case is currently not used\n      if (state === []) {\n        // nothing to undo\n        return state;\n      } else {\n        newState.pop();\n        return newState;\n      }\n    default:\n      console.log(\"moveHistoryReducer switch didn't match any case\");\n      return state;\n  }\n}\n\nfunction piecesReducer(state, action) {\n  let newState = [...state];\n  switch (action.type) {\n    case \"reset\":\n      return emptyTable(action.rows, action.cols, null);\n    case \"placePiece\":\n      // add the piece\n      newState[action.row][action.col] = action.player;\n      return newState;\n    case \"undo\":\n      // NOTE: this case is currently not used\n      newState[action.row][action.col] = null;\n      return newState;\n    default:\n      console.log(\"peicesReducer switch didn't match any case\");\n      return state;\n  }\n}\n\n//// The actual hook\n\n// TODO: LATER: TIME_LIMIT: option to add time limit to turns\n\nfunction useGame(\n  toPlayFirst,\n  setSoundToPlay = (_) => {\n    return;\n  },\n  rows = 6,\n  cols = 7,\n  lineLen = 4\n) {\n  //// States & Constants\n\n  // waiting for first game to start?\n  const [waiting, setWaiting] = useState(true);\n\n  // who has forfeit (player index, or null)\n  const [forfeiter, setForfeiter] = useState(null);\n  // stack (array) of {player, row, col}\n\n  const [moveHistory, dispatchMoveHistory] = useReducer(moveHistoryReducer, []);\n  // table of player indices/null; indicates which piece is there (if any)\n  const [pieces, dispatchPieces] = useReducer(\n    piecesReducer,\n    emptyTable(rows, cols, null)\n  );\n  // based purely on the board (not forfeit); ongoing, won, or draw\n  const boardStatus = isWon() // check the board for a win\n    ? \"won\" // found win\n    : isFull() // otherwise, check the board for a draw\n    ? \"draw\" // found draw\n    : \"ongoing\"; // didn't find draw\n  // takes into account possible forfeit: ongoing, won, draw, or forfeit\n  const gameStatus = waiting // waiting to start\n    ? \"waiting\"\n    : forfeiter !== null // check for feifeit\n    ? \"forfeit\" // if so\n    : boardStatus; // otherwise, default to boardStatus\n  // index of winning player (via game play for via forfeit), or null\n  const winner =\n    gameStatus === \"forfeit\" // check for forfeit\n      ? 1 - forfeiter // if so, other player won\n      : gameStatus !== \"won\" // otherwise, check for win\n      ? null // if no win, there's no winner\n      : moveHistory[moveHistory.length - 1].player; // if win, then most recent player won\n  // table of booleans; indicates whether spot is highlighted in a win\n  // (not using state and useEffect since it might make undo awkward?)\n\n  const highlights = createHighlights();\n  // matrix, row 0 at the bottom; each cell is an object\n  const openColumns = checkOpenCols();\n  const board = combineTables(\n    [pieces, highlights, openColumns],\n    [\"player\", \"isHighlight\", \"colIsOpen\"]\n  );\n\n  // index of player to play next move, or null if game is not ongoing\n  const toPlayNext =\n    gameStatus !== \"ongoing\"\n      ? null\n      : moveHistory.length === 0\n      ? toPlayFirst\n      : 1 - moveHistory[moveHistory.length - 1].player;\n\n  //// Sounds\n\n  // trigger win/lose sound effect\n  useEffect(() => {\n    if (winner === 0) {\n      setSoundToPlay(winSound);\n    } else if (winner === 1) {\n      setSoundToPlay(loseSound);\n    }\n  }, [winner, setSoundToPlay]);\n  // trigger draw sound effect\n  useEffect(() => {\n    if (gameStatus === \"draw\") {\n      setSoundToPlay(drawSound);\n    }\n  }, [gameStatus, setSoundToPlay]);\n  // trigger your turn sound effect\n  useEffect(() => {\n    if (toPlayNext === 0) {\n      setSoundToPlay(yourTurnSound);\n    }\n  }, [toPlayNext, setSoundToPlay]);\n\n  //// Helpers\n  // isWon and createHighlights share a lot of code :(\n\n  // find row that piece will end up in when dropped in this col\n  function findEmptyRow(col) {\n    for (let row = 0; row < rows; row++) {\n      if (pieces[row][col] === null) {\n        return row;\n      }\n    }\n    return null;\n  }\n\n  // check whether the board is full\n  function isFull() {\n    // check the top row for nulls\n    for (let col = 0; col < cols; col++) {\n      if (pieces[rows - 1][col] === null) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // check if the game is won\n  function isWon() {\n    if (moveHistory.length < 2 * lineLen - 1) {\n      // impossible for anyone to have won yet\n      return false;\n    }\n    // only need to examine most recent move (which exists)\n    const { player, row, col } = moveHistory[moveHistory.length - 1];\n    for (let d = 0; d < directions.length; d++) {\n      const [d_r, d_c] = directions[d];\n      // check for a win using given piece in direction directions[d]\n      for (let j = -3; j < 1; j++) {\n        // check for a win in the direction starting from offset of j\n        if (checkLine(player, row + j * d_r, col + j * d_c, d_r, d_c)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // TODO: MAYBE: HIGHLIGHT: highlight most recent piece? would be easy\n\n  // highlight winning locations\n  function createHighlights() {\n    let table = emptyTable(rows, cols, false);\n    if (moveHistory.length < 2 * lineLen - 1) {\n      // impossible for anyone to have won yet; no highlights needed\n      return table;\n    }\n    // only check the most recently played location (which exists)\n    let { player, row, col } = moveHistory[moveHistory.length - 1];\n    for (let d = 0; d < directions.length; d++) {\n      const [d_r, d_c] = directions[d];\n      // for the 4 pieces in this direction (including row,col),\n      //  check if it is in a line pointing towards row,col\n      for (let j = -lineLen + 1; j < 1; j++) {\n        if (checkLine(player, row + j * d_r, col + j * d_c, d_r, d_c)) {\n          // this piece, and the 3 after it, form a line of 4, so update them all\n          for (let k = j; k < j + lineLen; k++) {\n            table[row + k * d_r][col + k * d_c] = true;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  // indicates whether the cell is in an open column\n  function checkOpenCols() {\n    let table = emptyTable(rows, cols);\n    for (let col = 0; col < cols; col++) {\n      const isOpen = pieces[rows - 1][col] === null;\n      for (let row = 0; row < rows; row++) {\n        table[row][col] = isOpen;\n      }\n    }\n    return table;\n  }\n\n  // given a spot and a direction, check if it's a line of 4\n  function checkLine(player, row, col, d_r, d_c) {\n    for (let k = 0; k < lineLen; k++) {\n      let [r, c] = [row + k * d_r, col + k * d_c];\n      // if (r, c) is out of bounds, or doesn't have the right piece\n      if (0 > r || r >= rows || 0 > c || c >= cols || pieces[r][c] !== player) {\n        return false;\n      }\n    }\n    // all 4 were in-bounds and belonged to player, so return true (they won)\n    return true;\n  }\n\n  //// Externally accessible functions\n\n  // given out to reset all states\n  function resetGame() {\n    setWaiting(true);\n    setForfeiter(null);\n\n    dispatchMoveHistory({ type: \"reset\" });\n    // (use dispatch instead of useEffect since might make undo awkward?)\n    dispatchPieces({ type: \"reset\", rows, cols });\n  }\n\n  // only does something if game was already reset\n  function startGame() {\n    setWaiting(false);\n  }\n\n  // given out to allow component to (attempt to) place a piece\n  function placePiece(col, player) {\n    let row = findEmptyRow(col);\n    // only proceed if move is valid\n    if (gameStatus === \"ongoing\" && player === toPlayNext && row !== null) {\n      dispatchMoveHistory({ type: \"addMove\", player, row, col });\n      // (use dispatch instead of useEffect since might make undo awkward?)\n      dispatchPieces({ type: \"placePiece\", player, row, col });\n    }\n  }\n\n  //// Return\n\n  // TODO: MAYBE: UNDO: return an undo function\n  return {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    startGame,\n    placePiece,\n    setForfeiter,\n  };\n}\n\nexport { useGame };\n","import { useReducer, useEffect, useCallback } from \"react\";\n\n//// Reducers & initial states\n\nfunction resultReducer(state, action) {\n  switch (action.type) {\n    case \"reset\":\n      return initialResults;\n    default:\n      // win, draw, or lose\n      let newState = { ...state };\n      newState[action.type + \"s\"] += 1;\n      return newState;\n  }\n}\n\nconst initialResults = { wins: 0, draws: 0, loses: 0 };\n\n//// Hook\n\nfunction useResults(gameStatus, winner) {\n  const [resultHistory, dispatchResult] = useReducer(\n    resultReducer,\n    initialResults\n  );\n\n  //// Effects\n\n  // at end of game, update the W-D-L tally\n  useEffect(() => {\n    if (winner === 0) {\n      dispatchResult({ type: \"win\" });\n    } else if (winner === 1) {\n      dispatchResult({ type: \"lose\" });\n    }\n  }, [winner]);\n  useEffect(() => {\n    if (gameStatus === \"draw\") {\n      dispatchResult({ type: \"draw\" });\n    }\n  }, [gameStatus]);\n\n  //// Functions\n\n  const resetResults = useCallback(() => {\n    dispatchResult({ type: \"reset\" });\n  }, []);\n\n  //// Return\n\n  return { resultHistory, resetResults };\n}\n\nexport { useResults };\n","export default __webpack_public_path__ + \"static/media/success-1-6297.fd2c2fea.mp3\";","export default __webpack_public_path__ + \"static/media/chime-sound-7143.09264db5.mp3\";","export default __webpack_public_path__ + \"static/media/notification-sound-7062.d73a4897.mp3\";","export default __webpack_public_path__ + \"static/media/fist-punch-or-kick-7171.1d430a44.mp3\";","export default __webpack_public_path__ + \"static/media/power-down-7103.2164432c.mp3\";","import { useState, useEffect, useReducer, useCallback } from \"react\";\n\nimport { useGame } from \"./../Game/useGame.js\";\nimport { useResults } from \"./../Game/useResults.js\";\n\nimport createRoomSound from \"./../sounds/success-1-6297.mp3\";\nimport joinRoomSound from \"./../sounds/good-6081.mp3\";\nimport playerJoinSound from \"./../sounds/chime-sound-7143.mp3\";\nimport playerLeaveSound from \"./../sounds/notification-sound-7062.mp3\";\nimport kickOpponentSound from \"./../sounds/fist-punch-or-kick-7171.mp3\";\nimport closeRoomSound from \"./../sounds/power-down-7103.mp3\";\nimport leaveRoomSound from \"./../sounds/notification-sound-7062.mp3\";\n\n// TODO: TEST: useRoom: create tests for custom hook\n\n//// Reducers\n\n// used for both incoming and outgoing message queues\nfunction reduceMessageQueue(state, action) {\n  const newState = [...state];\n  switch (action.type) {\n    case \"add\":\n      newState.push(action.message);\n      break;\n    case \"remove\":\n      newState.shift();\n      break;\n    default:\n      console.log(\"Error: no match for reduceMessageQueue.\");\n      break;\n  }\n  return newState;\n}\n\n//// useRoom custom hook\n// is independent of network (ie pubnub)\n\nfunction useRoom(\n  player,\n  isOwner,\n  opponent,\n  setOpponent,\n  restartMethod,\n  setRestartMethod,\n  setSoundToPlay,\n  publishMessage,\n  unmountRoom\n) {\n  //// States\n\n  // how many players are present\n  const playerCount = opponent === null ? 1 : 2;\n  // who start(s/ed) the current game -- first player of first game is random\n  const [toPlayFirst, setToPlayFirst] = useState(Math.floor(Math.random() * 2));\n\n  // the game custom hook\n  const {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    startGame,\n    placePiece,\n    setForfeiter,\n  } = useGame(toPlayFirst, setSoundToPlay);\n\n  // history of all games played\n  const { resultHistory, resetResults } = useResults(gameStatus, winner);\n\n  // message queues\n  const [incomingMessageQueue, dispatchIncomingMessageQueue] = useReducer(\n    reduceMessageQueue,\n    []\n  );\n  const queueIncomingMessage = useCallback((message) => {\n    dispatchIncomingMessageQueue({ type: \"add\", message });\n  }, []);\n\n  // const [outgoingMessageQueue, dispatchOutgoingMessageQueue] = useReducer(\n  //   reduceMessageQueue,\n  //   []\n  // );\n  // const queueOutgoingMessage = useCallback((message) => {\n  //   dispatchOutgoingMessageQueue({ type: \"add\", message });\n  // }, []);\n\n  //// Network\n\n  // incoming\n\n  // act on a message\n  function handleMessage(message) {\n    switch (message.type) {\n      case \"restartMethod\":\n        setRestartMethod(message.restartMethod);\n        break;\n      case \"playerInfo\":\n        setOpponent((opp) => {\n          const name = message.name || opp.name;\n          const colour = message.colour || opp.colour;\n          return { name, colour };\n        });\n        break;\n\n      // room is relative to player, so 1 means opponent and incoming indices\n      //  are flipped as they are from opponent's view\n      case \"start\":\n        resetGame();\n        setToPlayFirst(1 - message.toPlayFirst);\n        startGame();\n        break;\n      case \"move\":\n        placePiece(message.col, 1);\n        break;\n      case \"forfeit\":\n        setForfeiter(1);\n        break;\n\n      case \"kick\":\n        alert(\"The owner of the room kicked you out.\");\n        unmountRoom();\n        break;\n      case \"close\":\n        alert(\"The owner of the room left and so the room has closed.\");\n        unmountRoom();\n        break;\n\n      case \"leave\":\n        if (playerCount === 2) {\n          alert(\"Your opponent left.\");\n          resetRoom();\n        }\n        break;\n      default:\n        console.log(\"Error: Unhandled message.\");\n        break;\n    }\n  }\n\n  // outgoing\n\n  // // if there are outgoing messages, send the first one (oldest)\n  // useEffect(() => {\n  //   if (outgoingMessageQueue.length > 0) {\n  //     publishMessage(outgoingMessageQueue[0]);\n  //     dispatchOutgoingMessageQueue({ type: \"remove\" });\n  //   }\n  //   // only the queue will change\n  // }, [outgoingMessageQueue, publishMessage]);\n\n  // cleanup\n\n  // on unmount of Room, send message and play sound\n  // PROBLEM: won't run if browser window/tab is closed\n  useEffect(() => {\n    return function cleanup() {\n      publishMessage({ type: isOwner ? \"close\" : \"leave\" });\n      setSoundToPlay(isOwner ? closeRoomSound : leaveRoomSound);\n    };\n    // none of these will change while Room is mounted\n  }, [isOwner, publishMessage, setSoundToPlay]);\n\n  //// Effects\n\n  // result history (increments are done in the hook)\n\n  // if opponent leaves, reset\n  useEffect(() => {\n    if (playerCount === 1) {\n      resetResults();\n    }\n    // resetResults never changes\n  }, [playerCount, resetResults]);\n\n  // Sounds\n\n  // play sounds when other player joins or leaves\n  useEffect(() => {\n    if (isOwner && playerCount === 1) {\n      // NOTE: this sound is overridden by createRoomSound on first rener (?)\n      setSoundToPlay(playerLeaveSound);\n    } else if (isOwner && playerCount === 2) {\n      setSoundToPlay(playerJoinSound);\n    }\n  }, [isOwner, playerCount, setSoundToPlay]);\n\n  // play create/join sounds (should only run once, as both dependencies never change)\n  useEffect(() => {\n    if (isOwner) {\n      setSoundToPlay(createRoomSound);\n    } else {\n      setSoundToPlay(joinRoomSound);\n    }\n  }, [isOwner, setSoundToPlay]);\n\n  // incoming messages\n\n  // if there are incoming messages, act on the first one (oldest)\n  useEffect(() => {\n    if (incomingMessageQueue.length > 0) {\n      if (incomingMessageQueue[0].uuid !== player.uuid) {\n        // don't act on your own messages\n        handleMessage(incomingMessageQueue[0]);\n      }\n      dispatchIncomingMessageQueue({ type: \"remove\" });\n    }\n  });\n\n  // outgoing messages\n\n  // send restartMethod when opponent joins your room\n  useEffect(() => {\n    if (isOwner && playerCount === 2) {\n      publishMessage({ type: \"restartMethod\", restartMethod });\n    }\n    // only playerCount will change when isOwner\n  }, [isOwner, publishMessage, playerCount, restartMethod]);\n  // send player name/colour on update and on player join (and initial render)\n  useEffect(() => {\n    if (playerCount === 2 || !isOwner) {\n      publishMessage({\n        type: \"playerInfo\",\n        name: player.name,\n        colour: player.colour,\n      });\n    }\n    // only playerCount and player will change\n  }, [isOwner, publishMessage, playerCount, player.name, player.colour]);\n  // send toPlayFirst when new game starts (only toPlayFirst/gameStatus change)\n  useEffect(() => {\n    if (isOwner && gameStatus === \"ongoing\") {\n      publishMessage({ type: \"start\", toPlayFirst });\n    }\n    // toPlayFirst won't change while gameStatus is ongoing\n  }, [isOwner, publishMessage, toPlayFirst, gameStatus]);\n\n  //// Helper functions\n\n  // will only be called by owner\n  function resetRoom() {\n    setOpponent(null);\n    resetGame();\n    setToPlayFirst(Math.floor(Math.random() * 2));\n  }\n\n  //// Externally available functions, for this player's actions\n\n  // for owner to use to start a new game\n  function startNewGame() {\n    if (gameStatus !== \"waiting\") {\n      // if it's a rematch then figure out who will go first\n      //  otherwise, toPlayFirst is already correct\n      setToPlayFirst((wentFirst) => {\n        switch (restartMethod) {\n          case \"random\":\n            return Math.floor(Math.random() * 2);\n          case \"alternate\":\n            return 1 - wentFirst;\n          case \"loser\":\n            // if it's a draw, keep the same player\n            return gameStatus === \"draw\" ? wentFirst : 1 - winner;\n          case \"winner\":\n            // if it's a draw, keep the same player\n            return gameStatus === \"draw\" ? wentFirst : winner;\n          default:\n            console.log(\n              \"Error: New Game couldn't select first player properly.\"\n            );\n            return 1 - wentFirst;\n        }\n      });\n    }\n    resetGame();\n    startGame();\n  }\n\n  function makeMove(col) {\n    // only act if it's your turn\n    if (toPlayNext === 0) {\n      placePiece(col, 0);\n      publishMessage({ type: \"move\", col });\n    }\n  }\n\n  function forfeit() {\n    setForfeiter(0);\n    publishMessage({ type: \"forfeit\" });\n  }\n\n  // TODO: LATER: PERMAKICK: add via uuid-check (not perfect)\n\n  function kickOpponent() {\n    publishMessage({ type: \"kick\" });\n    resetRoom();\n    setSoundToPlay(kickOpponentSound);\n  }\n\n  //// Return\n\n  return {\n    resultHistory,\n    board,\n    gameStatus,\n    winner,\n    toPlayNext,\n    startNewGame,\n    makeMove,\n    forfeit,\n    kickOpponent,\n    queueIncomingMessage,\n  };\n}\n\nexport { useRoom };\n","import { useEffect, useCallback, useContext } from \"react\";\n\nimport RoomHeader from \"./RoomHeader.js\";\nimport Board from \"./../Game/Board.js\";\nimport SingleFooter from \"./../Game/SingleFooter.js\";\n\nimport { SoundContext } from \"./../App.js\";\n\nimport { useRoom } from \"./useRoom.js\";\n\n// the room is seen from the current player's view\n//  each player has their own instantiation of the 'shared' room\n\nfunction Room({\n  roomCode,\n  player,\n  isOwner,\n  opponent,\n  setOpponent,\n  restartMethod,\n  setRestartMethod,\n  unmountRoom,\n  pubnub,\n}) {\n  //// sounds\n\n  const { setSoundToPlay } = useContext(SoundContext);\n\n  //// out-going network (via pubnub)\n\n  const publishMessage = useCallback(\n    (message) => {\n      pubnub.publish({\n        message: { ...message, uuid: player.uuid },\n        channel: roomCode,\n      });\n    },\n    // none will change until Room unmounts\n    [player.uuid, pubnub, roomCode]\n  );\n\n  //// useRoom hook (agnostic of network choice)\n\n  const {\n    resultHistory,\n    board,\n    gameStatus,\n    winner,\n    toPlayNext,\n    startNewGame,\n    makeMove,\n    forfeit,\n    kickOpponent,\n    queueIncomingMessage,\n  } = useRoom(\n    player,\n    isOwner,\n    opponent,\n    setOpponent,\n    restartMethod,\n    setRestartMethod,\n    setSoundToPlay,\n    publishMessage,\n    unmountRoom\n  );\n\n  //// in-coming network (via pubnub)\n\n  // (un)subscribe to Room's channel\n  // PROBLEM: won't run if browser window/tab is closed\n  useEffect(() => {\n    pubnub.subscribe({\n      channels: [roomCode],\n      withPresence: true,\n    });\n    return function cleanupSubscription() {\n      pubnub.unsubscribe({ channels: [roomCode] });\n    };\n    // none will change while Room is mounted\n  }, [pubnub, roomCode, isOwner, publishMessage, setSoundToPlay]);\n\n  // setup listener for messages\n  // PROBLEM: won't run if browser window/tab is closed\n  useEffect(() => {\n    function handleMessage(event) {\n      queueIncomingMessage(event.message);\n    }\n    const listener = { message: handleMessage };\n    pubnub.addListener(listener);\n    return function cleanupListener() {\n      pubnub.removeListener(listener);\n    };\n    // note that neither of these ever change\n  }, [pubnub, queueIncomingMessage]);\n\n  //// Return\n\n  return (\n    <>\n      <RoomHeader\n        roomCode={roomCode}\n        isOwner={isOwner}\n        hasOpponent={opponent !== null}\n        restartMethod={restartMethod}\n        resultHistory={resultHistory}\n        kickOpponent={kickOpponent}\n        closeRoom={unmountRoom}\n        leaveRoom={unmountRoom}\n      />\n      {opponent && (\n        <Board\n          viewer={0}\n          board={board}\n          isViewersTurn={0 === toPlayNext}\n          colours={[player.colour, opponent.colour]}\n          makeMove={makeMove}\n        />\n      )}\n      {opponent && (\n        <SingleFooter\n          viewer={0}\n          isOwner={isOwner}\n          gameStatus={gameStatus}\n          winner={winner}\n          toPlayNext={toPlayNext}\n          forfeit={forfeit}\n          startNewGame={startNewGame}\n          hasChoice={false}\n        />\n      )}\n    </>\n  );\n}\n\nexport default Room;\n","import Results from \"./../Game/Results.js\";\n\nfunction LocalHeader({ resultHistory, names, unmountLocal }) {\n  return (\n    <>\n      <p>You're playing locally with a friend on the same screen.</p>\n      <button onClick={unmountLocal}>Return to Lobby</button>\n      <Results\n        resultHistory={resultHistory}\n        headings={[names[0] + \" Wins\", \"Draws\", names[1] + \" Wins\"]}\n      />\n    </>\n  );\n}\n\nexport default LocalHeader;\n","function DoubleFooter({\n  names,\n  gameStatus,\n  winner,\n  toPlayNext,\n  forfeit,\n  startNewGame,\n}) {\n  // to display to both players at once\n  function gameStatusMessage() {\n    switch (gameStatus) {\n      case \"won\":\n        return \"Congratulations \" + names[winner] + \", you won!\";\n      case \"forfeit\":\n        return (\n          names[1 - winner] + \" forfeit the game -- \" + names[winner] + \" wins.\"\n        );\n      case \"draw\":\n        return \"It's a draw.\";\n      case \"ongoing\":\n        return \"It's \" + names[toPlayNext] + \"'s turn to drop a piece.\";\n      case \"waiting\":\n        return \"The game has not started yet.\";\n      default:\n        console.log(\"Error: \", gameStatus);\n        return \"Something has gone wrong. Apologies.\";\n    }\n  }\n\n  return (\n    <>\n      {/* explain what's going on with the game */}\n      <p>{gameStatusMessage()}</p>\n\n      {/* buttons for forfeiting or restarting, as applicable */}\n      {gameStatus === \"ongoing\" ? (\n        <button onClick={() => forfeit(toPlayNext)}>Forfeit</button>\n      ) : (\n        <>\n          <button onClick={() => startNewGame(0)}>\n            New Game: {names[0]} starts\n          </button>\n          <button onClick={() => startNewGame(1)}>\n            New Game: {names[1]} starts\n          </button>\n        </>\n      )}\n    </>\n  );\n}\n\nexport default DoubleFooter;\n","import { useState } from \"react\";\n\nimport LocalHeader from \"./LocalHeader.js\";\nimport Board from \"./../Game/Board.js\";\nimport DoubleFooter from \"./../Game/DoubleFooter.js\";\n\nimport { useGame } from \"./../Game/useGame.js\";\nimport { useResults } from \"./../Game/useResults.js\";\n\nfunction LocalPlay({ player, opponent, unmountLocal }) {\n  // first player\n  const [toPlayFirst, setToPlayFirst] = useState(null);\n\n  // TODO: NEXT: SOUND: revisit -- doesn't work well for local play\n\n  // the game custom hook (no sound used)\n  const {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    startGame,\n    placePiece,\n    setForfeiter,\n  } = useGame(toPlayFirst);\n\n  // keep track of result history\n  const { resultHistory } = useResults(gameStatus, winner);\n\n  // functions to pass to sub-components\n\n  function makeMove(col) {\n    placePiece(col, toPlayNext);\n  }\n\n  function forfeit(player) {\n    setForfeiter(player);\n  }\n\n  function startNewGame(player) {\n    setToPlayFirst(player);\n    resetGame();\n    startGame();\n  }\n\n  return (\n    <>\n      <LocalHeader\n        resultHistory={resultHistory}\n        names={[player.name, opponent.name]}\n        unmountLocal={unmountLocal}\n      />\n      <Board\n        viewer={toPlayNext || toPlayFirst}\n        board={board}\n        isViewersTurn={toPlayNext !== null}\n        colours={[player.colour, opponent.colour]}\n        makeMove={makeMove}\n      />\n      <DoubleFooter\n        names={[player.name, opponent.name]}\n        gameStatus={gameStatus}\n        winner={winner}\n        toPlayNext={toPlayNext}\n        forfeit={forfeit}\n        startNewGame={startNewGame}\n      />\n    </>\n  );\n}\n\nexport default LocalPlay;\n","import Results from \"./../Game/Results.js\";\n\nfunction ComputerHeader({ resultHistory, unmountComputer }) {\n  return (\n    <>\n      <p>You're playing against the computer.</p>\n      <button onClick={unmountComputer}>Return to Lobby</button>\n      <Results\n        resultHistory={resultHistory}\n        headings={[\"Wins\", \"Draws\", \"Loses\"]}\n      />\n    </>\n  );\n}\n\nexport default ComputerHeader;\n","import { useState, useContext } from \"react\";\n\nimport ComputerHeader from \"./ComputerHeader.js\";\nimport Board from \"./../Game/Board.js\";\nimport SingleFooter from \"./../Game/SingleFooter.js\";\n\nimport { SoundContext } from \"./../App.js\";\n\nimport { useGame } from \"./../Game/useGame.js\";\nimport { useResults } from \"./../Game/useResults.js\";\n\n// TODO: REUSE: this is extremely similar to ./LocalPlay.js\n\nfunction ComputerPlay({ player, opponent, unmountComputer }) {\n  // Sound\n  const { setSoundToPlay } = useContext(SoundContext);\n\n  // first player\n  const [toPlayFirst, setToPlayFirst] = useState(null);\n\n  // the game custom hook\n  const {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    startGame,\n    placePiece,\n    setForfeiter,\n  } = useGame(toPlayFirst, setSoundToPlay);\n\n  // keep track of result history\n  const { resultHistory } = useResults(gameStatus, winner);\n\n  // functions for sub-components\n\n  function makeMove(col) {\n    placePiece(col, 0);\n  }\n\n  function forfeit(player) {\n    setForfeiter(0);\n  }\n\n  function startNewGame(player) {\n    setToPlayFirst(player);\n    resetGame();\n    startGame();\n  }\n\n  return (\n    <>\n      <ComputerHeader\n        resultHistory={resultHistory}\n        unmountComputer={unmountComputer}\n      />\n      <Board\n        viewer={0}\n        board={board}\n        isViewersTurn={toPlayNext === 0}\n        colours={[player.colour, opponent.colour]}\n        makeMove={makeMove}\n      />\n      TEMP: computer player doesn't exist yet\n      <SingleFooter\n        viewer={0}\n        isOwner={true}\n        gameStatus={gameStatus}\n        winner={winner}\n        toPlayNext={toPlayNext}\n        forfeit={forfeit}\n        startNewGame={startNewGame}\n        hasChoice={true}\n      />\n    </>\n  );\n}\n\nexport default ComputerPlay;\n","export default __webpack_public_path__ + \"static/media/website-logo.2a15d8d0.svg\";","import \"./links.css\";\n\nimport gitHubImage from \"./github.png\";\nimport gitHubImageDark from \"./github-dark.png\";\nimport websiteImage from \"./website-logo.svg\";\n\nfunction Links({ gitHubLink, themeType = \"light\" }) {\n  const links = [\n    [\"Personal Website\", \"https://kr-matthews.github.io/\", websiteImage],\n    [\n      \"Project Repository\",\n      gitHubLink,\n      themeType === \"light\" ? gitHubImage : gitHubImageDark,\n    ],\n  ];\n\n  return (\n    <div className=\"link-footer\">\n      {links.map(([description, url, image]) => (\n        <Link key={url} description={description} url={url} image={image} />\n      ))}\n    </div>\n  );\n}\n\nfunction Link({ url, image, description }) {\n  return (\n    <a\n      href={url}\n      className=\"link-tooltip-container\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <img className=\"link-image\" src={image} alt=\"\" />\n      <span className=\"link-tooltip\">{description}</span>\n    </a>\n  );\n}\n\nexport default Links;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import { createGlobalStyle } from \"styled-components\";\n\n// PROBLEM: TODO: THEME: in dark mode on refresh, it transitions from light mode\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n      background: ${({ theme }) => theme.background};\n      color: ${({ theme }) => theme.foreground};\n      transition: all 0.75s ease-in;\n      transition-property: background, color\n    }\n  `;\n\nexport { GlobalStyle };\n","import { useState } from \"react\";\n\nfunction useLocalState(key, initialValue) {\n  const savedValue = JSON.parse(localStorage.getItem(key));\n  const [value, setValue] = useState(\n    savedValue === null ? initialValue : savedValue\n  );\n  function setLocalValue(newValue) {\n    setValue(newValue);\n    localStorage.setItem(key, JSON.stringify(newValue));\n  }\n  // if using the initialValue, save it into local storage now\n  if (savedValue === null) {\n    setLocalValue(value);\n  }\n  return [value, setLocalValue];\n}\n\nexport { useLocalState };\n","import { useState, useEffect } from \"react\";\n\n// TODO: MAYBE: SOUND: use a queue, incase multiple sounds come in at once?\n\nfunction playSound(url) {\n  new Audio(url).play();\n}\n\nfunction useSound(soundIsOn) {\n  const [soundToPlay, setSoundToPlay] = useState(null);\n\n  // play triggered sound\n  useEffect(() => {\n    if (soundToPlay && soundIsOn) {\n      playSound(soundToPlay);\n    }\n    setSoundToPlay(null);\n  }, [soundToPlay, soundIsOn]);\n\n  return { setSoundToPlay };\n}\n\nexport { useSound };\n","import { useState, useMemo, createContext } from \"react\";\n\n// TODO: NEXT: NETWORK: deal with potential failures of pubnub\n\nimport PubNub from \"pubnub\";\n// pubnubKeys.js is listed in .gitignore, contains private keys\nimport { subscribeKey, publishKey } from \"./pubnubKeys.js\";\n\nimport Header from \"./Header/Header.js\";\nimport PlayerInfo from \"./Header/PlayerInfo.js\";\nimport PlayerName from \"./Header/PlayerName.js\";\nimport PlayerColour from \"./Header/PlayerColour.js\";\nimport SiteTheme from \"./Header/SiteTheme.js\";\nimport SiteSound from \"./Header/SiteSound.js\";\n\nimport Lobby from \"./Lobby/Lobby.js\";\nimport Room from \"./Room/Room.js\";\nimport LocalPlay from \"./Local/LocalPlay.js\";\nimport ComputerPlay from \"./Local/ComputerPlay.js\";\n\nimport Links from \"./links/Links.js\";\n\nimport { GlobalStyle } from \"./GlobalStyle.js\";\n\nimport { useLocalState } from \"./useLocalState.js\";\nimport { useSound } from \"./sounds/useSound.js\";\n\nimport { getRandomColour } from \"./Colours.js\";\n\n//// Contexts\n\nconst themes = {\n  light: { type: \"light\", background: \"#F5F5F5\", foreground: \"#121212\" },\n  dark: { type: \"dark\", background: \"#121212\", foreground: \"#F5F5F5\" },\n};\nconst ThemeContext = createContext(themes.light);\nconst SoundContext = createContext();\n\n//// Simple Helpers\n\nfunction generateRandomUuid() {\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  let uuid = \"\";\n  for (let i = 0; i < 64; i++) {\n    uuid += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return uuid;\n}\n\n//// App\n\nfunction App() {\n  //// States and setters/toggles\n\n  // Site Properties\n\n  const [theme, setTheme] = useLocalState(\"theme\", themes.light);\n  function toggleTheme() {\n    setTheme(theme.type === \"light\" ? themes.dark : themes.light);\n  }\n\n  const [soundIsOn, setSoundIsOn] = useLocalState(\"sound\", true);\n  function toggleSound() {\n    setSoundIsOn(!soundIsOn);\n  }\n  const { setSoundToPlay } = useSound(soundIsOn);\n\n  // Player Properties\n\n  const [name, setName] = useLocalState(\"name\", \"Nameless\");\n  const [colour, setColour] = useLocalState(\"colour\", getRandomColour());\n\n  // Opponent Properties\n\n  // other player's name and colour, once they join\\\n  const [opponent, setOpponent] = useState(null);\n  function modifyOpponent(key, val) {\n    setOpponent((prev) => {\n      if (prev) {\n        const copy = { ...prev };\n        copy[key] = val;\n        return copy;\n      }\n    });\n  }\n\n  // indicator for which type of gameplay is being used\n\n  // indicates online, local, or computer (or null if in lobby)\n  const [playType, setPlayType] = useState(null);\n\n  // exit whatever mode of play you're in\n  function resetAll() {\n    // exit & clear opponent\n    setPlayType(null);\n    setOpponent(null);\n    // cleanup room, if applicable\n    setRoomCode(null);\n    setIsOwner(null);\n    setRestartMethod(null);\n  }\n  // room and network params, shared between lobby and room\n\n  const [roomCode, setRoomCode] = useState(null);\n  const [isOwner, setIsOwner] = useState(null);\n  const [restartMethod, setRestartMethod] = useState(null);\n\n  // constant identifier per user/device\n  const [uuid] = useLocalState(\"uuid\", generateRandomUuid());\n  // pubnub network\n  const pubnub = useMemo(() => new PubNub({ publishKey, subscribeKey, uuid }), [\n    uuid,\n  ]);\n\n  //// Return\n\n  return (\n    <ThemeContext.Provider value={theme}>\n      <SoundContext.Provider value={{ setSoundToPlay }}>\n        <GlobalStyle theme={theme} />\n\n        <h1>Connect 4</h1>\n\n        <Header>\n          <PlayerInfo self={true}>\n            <PlayerName editable={true} name={name} setName={setName} />\n            <PlayerColour\n              editable={true}\n              colour={colour}\n              setColour={setColour}\n            />\n          </PlayerInfo>\n\n          <SiteTheme themeType={theme.type} toggleTheme={toggleTheme} />\n          <SiteSound soundIsOn={soundIsOn} toggleSound={toggleSound} />\n\n          {opponent && (\n            <PlayerInfo self={false}>\n              <PlayerName\n                editable={playType === \"local\"}\n                name={opponent.name}\n                setName={(name) => modifyOpponent(\"name\", name)}\n              />\n              <PlayerColour\n                editable={playType === \"local\" || playType === \"computer\"}\n                colour={opponent.colour}\n                setColour={(colour) => modifyOpponent(\"colour\", colour)}\n              />\n            </PlayerInfo>\n          )}\n        </Header>\n\n        {playType === \"online\" ? (\n          <Room\n            roomCode={roomCode}\n            player={{ name, colour, uuid }}\n            isOwner={isOwner}\n            opponent={opponent}\n            setOpponent={setOpponent}\n            restartMethod={restartMethod}\n            setRestartMethod={setRestartMethod}\n            unmountRoom={resetAll}\n            pubnub={pubnub}\n          />\n        ) : playType === \"local\" ? (\n          <LocalPlay\n            player={{ name, colour }}\n            opponent={opponent}\n            unmountLocal={resetAll}\n          />\n        ) : playType === \"computer\" ? (\n          <ComputerPlay\n            player={{ name, colour }}\n            opponent={opponent}\n            unmountComputer={resetAll}\n          />\n        ) : (\n          <Lobby\n            setOpponent={setOpponent}\n            setPlayType={setPlayType}\n            setRoomCode={setRoomCode}\n            setIsOwner={setIsOwner}\n            setRestartMethod={setRestartMethod}\n            pubnub={pubnub}\n          />\n        )}\n        <Links\n          gitHubLink=\"https://github.com/kr-matthews/connect-4\"\n          themeType={theme.type}\n        />\n      </SoundContext.Provider>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n\nexport { ThemeContext, SoundContext };\n","// These are the (old, exposed) demo keys\nexport const publishKey = \"pub-c-444b80e2-3dd6-4998-ba4d-fdb8ea2f2d63\";\nexport const subscribeKey = \"sub-c-d1ada3dc-38d4-11ec-8182-fea14ba1eb2b\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}