{"version":3,"sources":["Options/Header.js","Options/Lobby.js","Options/PlayerName.js","Options/PlayerColour.js","Options/SiteTheme.js","Options/Mute.js","Room/CreateRoom.js","Room/JoinRoom.js","Room/RoomHeader.js","Game/Game.js","Colours.js","Game/Board.js","Game/GameFooter.js","sounds/water_dropwav-6707.mp3","sounds/good-6081.mp3","sounds/failure-drum-sound-effect-2mp3-7184.mp3","sounds/mixkit-retro-game-notification-212.wav","Game/useGame.js","sounds/chime-sound-7143.mp3","sounds/notification-sound-7062.mp3","sounds/fist-punch-or-kick-7171.mp3","Room/useRoom.js","Room/Room.js","links/website-logo.svg","links/Links.js","links/github.png","links/github-dark.png","GlobalStyle.js","Options/useLocalState.js","sounds/useSound.js","sounds/success-1-6297.mp3","sounds/power-down-7103.mp3","Room/useRoomHandlers.js","App.js","pubnubKeys.js","index.js"],"names":["Header","children","map","child","ind","Lobby","PlayerName","name","setName","publishName","useState","isEditing","setIsEditing","loseFocusHandler","newName","trim","autoFocus","type","value","placeholder","onChange","e","target","length","onKeyDown","key","onBlur","onClick","PlayerColour","colour","setColour","publishColour","newColour","SiteTheme","themeType","toggleTheme","Mute","soundIsOn","toggleSound","CreateRoom","createRoomHandler","restartMethodInput","setRestartMethodInput","handleChange","method","toLowerCase","checked","preventDefault","JoinRoom","joinRoomHandler","roomCodeInput","setRoomCodeInput","toUpperCase","RoomHeader","roomCode","isOwner","opponent","restartMethod","resultHistory","kickOpponentHandler","closeRoomHandler","leaveRoomHandler","restartMethodMessage","copyToClipboard","a","navigator","clipboard","writeText","alert","style","color","wins","draws","loses","Game","colours","oppositeColourOf","r","g","b","minVal","Math","min","maxVal","max","delta","sum","avg","deltaR","deltaG","deltaB","rawH","rgbToHsl","parseInt","substring","h","s","l","v2","v1","help","hslToRgb","newR","newG","newB","pad","round","toString","hexStr","v3","newV3","Row","row","viewer","isViewersTurn","moveHandler","rowCells","col","player","isHighlight","colIsOpen","Cell","clickHandler","isClickable","useContext","ThemeContext","background","foreground","backgroundColor","pieceStyle","borderColor","cellClass","cellStyle","className","Board","board","tableRows","push","GameFooter","gameStatus","winner","toPlayNext","forfeitHandler","newGameHandler","gameStatusMessage","directions","emptyTable","rows","cols","val","c","combineTables","tables","names","tableCount","combinedTable","i","moveHistoryReducer","state","action","newState","pop","console","log","piecesReducer","useGame","initialToPlayFirst","lineLen","toPlayFirst","setToPlayFirst","forfeiter","setForfeiter","useReducer","moveHistory","dispatchMoveHistory","pieces","dispatchPieces","boardStatus","isWon","isFull","highlights","createHighlights","openColumns","checkOpenCols","SoundContext","setSoundToPlay","findEmptyRow","d","d_r","d_c","j","checkLine","table","k","isOpen","resetGame","placePiece","forfeit","useEffect","winSound","loseSound","drawSound","yourTurnSound","resultReducer","initialResults","Room","pubnub","usePubNub","publishMessage","useCallback","message","publish","uuid","channel","floor","random","setOpponent","playerCount","dispatchResult","wentFirst","setWentFirst","toGoFirst","kickOpponentSound","playerLeaveSound","playerJoinSound","opponentInfoMessageHandler","opp","gameMessageHandler","useRoom","opponentInfoMessage","setOpponentInfoMessage","gameMessage","setGameMessage","listener","event","addListener","removeListener","Link","url","image","description","href","rel","src","alt","Links","gitHubLink","links","websiteImage","GlobalStyle","createGlobalStyle","theme","useLocalState","initialValue","savedValue","JSON","parse","localStorage","getItem","setValue","setLocalValue","newValue","setItem","stringify","useSound","soundToPlay","Audio","play","useRoomHandlers","setRoomCode","setIsOwner","setRestartMethod","removedHandler","unsubscribe","channels","removedMessage","setRemovedMessage","isRoomCodeInUse","hereNow","then","response","totalOccupancy","generatedRoomCode","chars","charAt","generateUnusedRoomCode","subscribe","withPresence","createRoomSound","joinRoomSound","catch","error","closeRoomSound","leaveRoomSound","themes","light","dark","createContext","App","setTheme","setSoundIsOn","generateRandomUuid","useMemo","PubNub","publishKey","subscribeKey","Provider","client","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.61a30bee.chunk.js","sourcesContent":["function Header({ children }) {\n  // TODO: UI: styling for Header/options (and all sub-components)\n\n  return (\n    <div>\n      {children.map((child, ind) => {\n        return <div key={ind}>{child}</div>;\n      })}\n    </div>\n  );\n}\n\nexport default Header;\n","// TODO: UI: improve design/css of lobby (and sub-components)\n\n// TODO: LATER: MULTIPLAYER: add local 2-player as an option in Lobby\n// TODO: LATER: COMPUTER: add computer opponent as an option in Lobby\n\nfunction Lobby({ children }) {\n  return (\n    <>\n      <h2>Lobby</h2>\n      <p>\n        Welcome to the Connect 4 lobby. Here, you can create or join a room.\n        Rooms are where you can play a game of Connect 4, and can fit up to 2\n        players.\n      </p>\n      {children}\n    </>\n  );\n}\n\nexport default Lobby;\n","import { useState } from \"react\";\n\nconst defaultName = \"Nameless\";\n\nfunction PlayerName({ name, setName, publishName }) {\n  const [isEditing, setIsEditing] = useState(false);\n\n  // click name to edit it\n  function clickHandler() {\n    setIsEditing(true);\n  }\n\n  // type name; update state\n  function changeHandler(e) {\n    // max valid length of 20\n    if (e.target.value.length <= 20) {\n      setName(e.target.value);\n    }\n  }\n\n  // save/submit via enter...\n  function keyDownHandler(e) {\n    if (e.key === \"Enter\") {\n      loseFocusHandler();\n    }\n  }\n\n  // ... or by clicking anywhere outside (losing focus)\n  function loseFocusHandler() {\n    const newName = name === \"\" ? defaultName : name.trim();\n    setName(newName);\n    publishName(newName);\n    setIsEditing(false);\n  }\n\n  return (\n    <>\n      Your name is{\" \"}\n      {isEditing ? (\n        <input\n          autoFocus\n          type=\"text\"\n          value={name}\n          placeholder=\"Name\"\n          onChange={changeHandler}\n          onKeyDown={keyDownHandler}\n          onBlur={loseFocusHandler}\n        />\n      ) : (\n        <button onClick={clickHandler}>{name}</button>\n      )}\n      .\n    </>\n  );\n}\n\nexport default PlayerName;\n","function PlayerColour({ colour, setColour, publishColour }) {\n  function changeHandler(e) {\n    const newColour = e.target.value;\n    setColour(newColour);\n    publishColour(newColour);\n  }\n\n  return (\n    <>\n      Your piece colour is{\" \"}\n      <input type=\"color\" value={colour} onChange={changeHandler} />.\n    </>\n  );\n}\n\nexport default PlayerColour;\n","function SiteTheme({ themeType, toggleTheme }) {\n  return (\n    <>\n      You're using the <button onClick={toggleTheme}>{themeType}</button> theme.\n    </>\n  );\n}\n\nexport default SiteTheme;\n","function Mute({ soundIsOn, toggleSound }) {\n  return (\n    <>\n      Sound is <button onClick={toggleSound}>{soundIsOn ? \"on\" : \"off\"}</button>\n      .\n    </>\n  );\n}\n\nexport default Mute;\n","import { useState } from \"react\";\n\nfunction CreateRoom({ createRoomHandler }) {\n  const [restartMethodInput, setRestartMethodInput] = useState(\"alternate\");\n\n  function handleChange(e) {\n    setRestartMethodInput(e.target.value);\n  }\n\n  return (\n    <div>\n      <h3>Create a Room</h3>\n      <p>\n        Once created, you will be given a room code which you can share with a\n        friend to join.\n      </p>\n      <p>\n        The first player of the first game will be selected randomly. Select who\n        will go first in subsequent games.\n      </p>\n      <form>\n        {[\"Alternate\", \"Loser\", \"Winner\", \"Random\"].map((method) => {\n          return (\n            <label key={method}>\n              <input\n                type=\"radio\"\n                value={method.toLowerCase()}\n                checked={restartMethodInput === method.toLowerCase()}\n                onChange={handleChange}\n              />\n              {method}\n            </label>\n          );\n        })}\n        <button\n          onClick={(e) => {\n            e.preventDefault();\n            createRoomHandler(restartMethodInput);\n          }}\n        >\n          Create\n        </button>\n      </form>\n    </div>\n  );\n}\n\nexport default CreateRoom;\n","import { useState } from \"react\";\n\nfunction JoinRoom({ joinRoomHandler }) {\n  const [roomCodeInput, setRoomCodeInput] = useState(\"\");\n\n  function changeHandler(e) {\n    setRoomCodeInput(e.target.value.toUpperCase().trim());\n  }\n\n  function clickHandler(e) {\n    e.preventDefault();\n    if (roomCodeInput) {\n      joinRoomHandler(roomCodeInput);\n    }\n  }\n\n  return (\n    <div>\n      <h3>Join a Room</h3>\n      <p>\n        If someone else has given you a code, use that code to join their room.\n        Codes are 4 characters.\n      </p>\n      <form>\n        <input\n          type=\"text\"\n          value={roomCodeInput}\n          placeholder=\"enter room code\"\n          onChange={changeHandler}\n        />\n        <button onClick={clickHandler}>Join</button>\n      </form>\n    </div>\n  );\n}\n\nexport default JoinRoom;\n","function RoomHeader({\n  roomCode,\n  isOwner,\n  opponent,\n  restartMethod,\n  resultHistory,\n  kickOpponentHandler,\n  closeRoomHandler,\n  leaveRoomHandler,\n}) {\n  const restartMethodMessage =\n    restartMethod === \"random\"\n      ? \"The first player of a new game is selected randomly.\"\n      : restartMethod === \"alternate\"\n      ? \"Players alternate playing first in a new game.\"\n      : // else it's \"winner\" or \"loser\"\n        \"The \" +\n        restartMethod +\n        \" of a game will go first for the next game. In the event of a draw, the same player will go first.\";\n\n  const copyToClipboard = async () => {\n    await navigator.clipboard.writeText(roomCode);\n    alert(\"Room code \" + roomCode + \" copied to clipboard.\");\n  };\n\n  // TODO: UI: improve Header design/css\n\n  return (\n    <>\n      {/* describe opponent, or say waiting for one */}\n      {opponent ? (\n        <div>\n          You are playing against{\" \"}\n          <span style={{ color: opponent.colour }}>{opponent.name}</span>.\n        </div>\n      ) : isOwner ? (\n        <div>Waiting for an opponent to join the room.</div>\n      ) : (\n        <div>Waiting for opponent information to be fetched.</div>\n      )}\n\n      {/* who owns the room, and the code */}\n      {isOwner ? (\n        <div>You created and are in control of this room.</div>\n      ) : opponent ? (\n        <div>\n          You are in {opponent.name}'s room. They have control of the room.\n        </div>\n      ) : (\n        <div>You do not have control of this room.</div>\n      )}\n      <div>\n        The room code is <button onClick={copyToClipboard}>{roomCode}</button>.\n      </div>\n\n      {/* explain who goes first for new games */}\n      <div>{restartMethodMessage}</div>\n\n      {/* display W-D-L history against this opponent */}\n      {opponent && (\n        <div>\n          <span>Wins: {resultHistory.wins}</span>\n          <span>Draws: {resultHistory.draws}</span>\n          <span>Loses: {resultHistory.loses}</span>\n        </div>\n      )}\n\n      {/* options to close/leave room or kick opponent, as applicable */}\n      <div>\n        {isOwner ? (\n          <button onClick={closeRoomHandler}>Close Room</button>\n        ) : (\n          <button onClick={leaveRoomHandler}>Leave Room</button>\n        )}\n        {isOwner && opponent && (\n          <button onClick={kickOpponentHandler}>Kick Opponent</button>\n        )}\n      </div>\n    </>\n  );\n}\n\nexport default RoomHeader;\n","function Game({ children }) {\n  return <>{children}</>;\n}\n\nexport default Game;\n","// unfortunately, colour inputs don't recognize names like \"Red\"\nconst colours = [\n  \"#FF0000\", // Red\n  \"#FF69B4\", // HotPink\n  \"#FF8C00\", // DarkOrange\n  \"#FFD700\", // Gold\n  \"#FF00FF\", // Magenta\n  \"#228B22\", // ForestGreen\n  \"#0000FF\", // Blue\n  \"#8B4513\", // SaddleBrown\n  \"#C0C0C0\", // Silver\n];\nfunction getRandomColour() {\n  return colours[Math.floor(Math.random() * colours.length)];\n}\n\n// consumes RGF colour like \"#4535D5\"\n// NOTE: this actually just inverts the RGB digits... oops\nfunction oppositeColourOf(colour) {\n  // extract RGB\n  const r = parseInt(colour.substring(1, 3), 16) / 255;\n  const g = parseInt(colour.substring(3, 5), 16) / 255;\n  const b = parseInt(colour.substring(5, 7), 16) / 255;\n\n  // convert to HSL, complement, convert back to RGB\n  const [h, s, l] = rgbToHsl(r, g, b);\n  const newH = h > 0.5 ? h - 0.5 : h + 0.5;\n  const [newR, newG, newB] = hslToRgb(newH, s, 1 - l);\n  // above was originally (newH, s, l)\n\n  // put back together into string\n  return (\n    \"#\" +\n    pad(Math.round(newR * 255).toString(16)).toUpperCase() +\n    pad(Math.round(newG * 255).toString(16)).toUpperCase() +\n    pad(Math.round(newB * 255).toString(16)).toUpperCase()\n  );\n}\n\nfunction pad(hexStr) {\n  return hexStr.length === 2 ? hexStr : \"0\" + hexStr;\n}\nfunction rgbToHsl(r, g, b) {\n  const minVal = Math.min(r, g, b);\n  const maxVal = Math.max(r, g, b);\n  const delta = maxVal - minVal;\n  const sum = maxVal + minVal;\n  const avg = (maxVal + minVal) / 2;\n\n  if (delta === 0) {\n    /// this is grey\n    return [0, 0, avg];\n  }\n\n  const deltaR = ((maxVal - r) / 6 + delta / 2) / delta;\n  const deltaG = ((maxVal - g) / 6 + delta / 2) / delta;\n  const deltaB = ((maxVal - b) / 6 + delta / 2) / delta;\n\n  const l = avg;\n  const s = avg < 0.5 ? delta / sum : delta / (2 - sum);\n  const rawH =\n    r === maxVal\n      ? deltaB - deltaG\n      : g === maxVal\n      ? 1 / 3 + deltaR - deltaB\n      : b === maxVal\n      ? 2 / 3 + deltaG - deltaR\n      : \"N/A\";\n  const h = rawH < 0 ? rawH + 1 : rawH > 1 ? rawH - 1 : rawH;\n\n  return [h, s, l];\n}\n\nfunction hslToRgb(h, s, l) {\n  if (s === 0) {\n    // this is grey\n    return [l, l, l];\n  }\n\n  const v2 = l < 0.5 ? l * (1 + s) : l + s - s * l;\n  const v1 = 2 * l - v2;\n  return [help(v1, v2, h + 1 / 3), help(v1, v2, h), help(v1, v2, h - 1 / 3)];\n}\nfunction help(v1, v2, v3) {\n  const newV3 = v3 < 0 ? v3 + 1 : v3 > 1 ? v3 - 1 : v3;\n  if (6 * newV3 < 1) {\n    return v1 + (v2 - v1) * 6 * newV3;\n  } else if (2 * newV3 < 1) {\n    return v2;\n  } else if (3 * newV3 < 2) {\n    return v1 + (v2 - v1) * ((2 / 3 - newV3) * 6);\n  } else {\n    return v1;\n  }\n}\n\nexport { getRandomColour, oppositeColourOf };\n","import { useContext } from \"react\";\n\nimport { ThemeContext } from \"./../App.js\";\n\nimport { oppositeColourOf } from \"./../Colours.js\";\n\nimport \"./board.css\";\n\nfunction Board({ viewer, board, isViewersTurn, colours, moveHandler }) {\n  const { foreground } = useContext(ThemeContext);\n  const rows = board.length;\n  let tableRows = [];\n  // the first row goes on the bottom, visually\n  for (let row = rows - 1; row > -1; row--) {\n    tableRows.push(\n      <Row\n        key={row}\n        row={board[row]}\n        viewer={viewer}\n        isViewersTurn={isViewersTurn}\n        moveHandler={moveHandler}\n        colours={colours}\n      />\n    );\n  }\n\n  return (\n    <table className=\"board\" style={{ backgroundColor: foreground }}>\n      <tbody>{tableRows}</tbody>\n    </table>\n  );\n}\n\nfunction Row({ row, viewer, isViewersTurn, moveHandler, colours }) {\n  let rowCells = row.map(({ player, isHighlight, colIsOpen }, col) => {\n    return (\n      <Cell\n        key={col}\n        clickHandler={() => moveHandler(col, viewer)}\n        colour={colours[player]}\n        isHighlight={isHighlight}\n        isClickable={isViewersTurn && colIsOpen}\n      />\n    );\n  });\n\n  return <tr>{rowCells}</tr>;\n}\n\nfunction Cell({ clickHandler, colour, isHighlight, isClickable }) {\n  // colours/styles\n  const { background, foreground } = useContext(ThemeContext);\n  const backgroundColor = colour || background;\n  const borderColor = isHighlight\n    ? oppositeColourOf(backgroundColor)\n    : backgroundColor;\n  const pieceStyle = { backgroundColor, borderColor };\n\n  const cellClass = isClickable ? \"clickable cell\" : \"cell\";\n  const cellStyle = { borderColor: foreground };\n\n  return (\n    <td className={cellClass} style={cellStyle} onClick={clickHandler}>\n      <span className=\"piece\" style={pieceStyle}></span>\n    </td>\n  );\n}\n\nexport default Board;\nexport { Row, Cell }; // for testing\n","function GameFooter({\n  viewer,\n  isOwner,\n  gameStatus,\n  winner,\n  toPlayNext,\n  forfeitHandler,\n  newGameHandler,\n}) {\n  // to display to viewer\n  function gameStatusMessage() {\n    switch (gameStatus) {\n      case \"won\":\n        return winner === viewer ? \"Congratulations, you won!\" : \"You lost.\";\n      case \"forfeit\":\n        return winner === viewer\n          ? \"Your opponent has forfeit the game -- you win.\"\n          : \"You lost by forfeiting the game.\";\n      case \"draw\":\n        return \"It's a draw.\";\n      case \"ongoing\":\n        return viewer === toPlayNext\n          ? \"It's your turn to drop a piece.\"\n          : \"Waiting for your opponent to play.\";\n      default:\n        return \"Something has gone wrong. Apologies.\";\n    }\n  }\n\n  // TODO: UI: improve Footer design/css\n\n  //  displayed for viewer's point of view\n  return (\n    <>\n      {/* explain what's going on with the game */}\n      <p>{gameStatusMessage()}</p>\n\n      {/* buttons for forfeiting or restarting, as applicable */}\n      {gameStatus === \"ongoing\" ? (\n        <button onClick={() => forfeitHandler(viewer)}>Forfeit</button>\n      ) : (\n        isOwner && <button onClick={newGameHandler}>New Game</button>\n      )}\n    </>\n  );\n}\n\nexport default GameFooter;\n","export default __webpack_public_path__ + \"static/media/water_dropwav-6707.104e70a9.mp3\";","export default __webpack_public_path__ + \"static/media/good-6081.4c04bbc5.mp3\";","export default __webpack_public_path__ + \"static/media/failure-drum-sound-effect-2mp3-7184.7b134939.mp3\";","export default __webpack_public_path__ + \"static/media/mixkit-retro-game-notification-212.b222ebf0.wav\";","import { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { SoundContext } from \"./../App.js\";\n\n// TODO: SOUND: remove context import and accept as parameter from useRoom\n\nimport yourTurnSound from \"./../sounds/water_dropwav-6707.mp3\";\nimport winSound from \"./../sounds/good-6081.mp3\";\nimport loseSound from \"./../sounds/failure-drum-sound-effect-2mp3-7184.mp3\";\nimport drawSound from \"./../sounds/mixkit-retro-game-notification-212.wav\";\n\n//// Generic constants helpers\n\n// the possible line directions from/to a fixed point\nconst directions = [\n  [0, 1],\n  [1, 1],\n  [1, 0],\n  [1, -1],\n  [0, -1],\n  [-1, -1],\n  [-1, 0],\n  [-1, 1],\n];\n\n// create empty tables (for initial states, and on resets)\nfunction emptyTable(rows, cols, val) {\n  let board = [];\n  for (let r = 0; r < rows; r++) {\n    let row = [];\n    for (let c = 0; c < cols; c++) {\n      row.push(val === \"empty\" ? {} : val);\n    }\n    board.push(row);\n  }\n  return board;\n}\n\n// merge data into one table for passing to component\nfunction combineTables(tables, names) {\n  const tableCount = tables.length;\n  const [rows, cols] = [tables[0].length, tables[0][0].length];\n  let combinedTable = emptyTable(rows, cols, \"empty\");\n  for (let row = 0; row < rows; row++) {\n    for (let col = 0; col < cols; col++) {\n      combinedTable[row][col] = {};\n      for (let i = 0; i < tableCount; i++) {\n        combinedTable[row][col][names[i]] = tables[i][row][col];\n      }\n    }\n  }\n  return combinedTable;\n}\n\n//// Reducers\n// outside the hook function to ensure they are pure\n\nfunction moveHistoryReducer(state, action) {\n  let newState = [...state];\n  switch (action.type) {\n    case \"reset\":\n      return [];\n    case \"addMove\":\n      let { player, row, col } = action;\n      newState.push({ player, row, col });\n      return newState;\n    case \"undo\":\n      // NOTE: this case is currently not used\n      if (state === []) {\n        // nothing to undo\n        return state;\n      } else {\n        newState.pop();\n        return newState;\n      }\n    default:\n      console.log(\"moveHistoryReducer switch didn't match any case\");\n      return state;\n  }\n}\n\nfunction piecesReducer(state, action) {\n  let newState = [...state];\n  switch (action.type) {\n    case \"reset\":\n      return emptyTable(action.rows, action.cols, null);\n    case \"placePiece\":\n      // add the piece\n      newState[action.row][action.col] = action.player;\n      return newState;\n    case \"undo\":\n      // NOTE: this case is currently not used\n      newState[action.row][action.col] = null;\n      return newState;\n    default:\n      console.log(\"peicesReducer switch didn't match any case\");\n      return state;\n  }\n}\n\n//// The actual hook\n\n// TODO: LATE_START: add gameStatus of \"uninitialized\" or something, so that game\n//  doesn't auto-start on 2nd player join\n// TODO: LATE_START: propagate new gameStatus up once added here\n\n// TODO: TIME_LIMIT: option to add time limit to turns (after new gameStatus above)\n\nfunction useGame(initialToPlayFirst, rows = 6, cols = 7, lineLen = 4) {\n  //// States & Constants\n\n  // index of player to play first; only updates on reset\n  const [toPlayFirst, setToPlayFirst] = useState(initialToPlayFirst);\n  // who has forfeit (player index, or null)\n  const [forfeiter, setForfeiter] = useState(null);\n  // stack (array) of {player, row, col}\n  const [moveHistory, dispatchMoveHistory] = useReducer(moveHistoryReducer, []);\n  // table of player indices/null; indicates which piece is there (if any)\n  const [pieces, dispatchPieces] = useReducer(\n    piecesReducer,\n    emptyTable(rows, cols, null)\n  );\n  // based purely on the board (not forfeit); ongoing, won, or draw\n  const boardStatus = isWon() // check the board for a win\n    ? \"won\" // found win\n    : isFull() // otherwise, check the board for a draw\n    ? \"draw\" // found draw\n    : \"ongoing\"; // didn't find draw\n  // takes into account possible forfeit: ongoing, won, draw, or forfeit\n  const gameStatus =\n    forfeiter !== null // check for feifeit\n      ? \"forfeit\" // if so\n      : boardStatus; // otherwise, default to boardStatus\n  // index of winning player (via game play for via forfeit), or null\n  const winner =\n    gameStatus === \"forfeit\" // check for forfeit\n      ? 1 - forfeiter // if so, other player won\n      : gameStatus !== \"won\" // otherwise, check for win\n      ? null // if no win, there's no winner\n      : moveHistory[moveHistory.length - 1].player; // if win, then most recent player won\n  // table of booleans; indicates whether spot is highlighted in a win\n  // (not using state and useEffect since it might make undo awkward?)\n  const highlights = createHighlights();\n  // matrix, row 0 at the bottom; each cell is an object\n  const openColumns = checkOpenCols();\n  const board = combineTables(\n    [pieces, highlights, openColumns],\n    [\"player\", \"isHighlight\", \"colIsOpen\"]\n  );\n  // index of player to play next move, or null if game is not ongoing\n  const toPlayNext =\n    gameStatus !== \"ongoing\"\n      ? null\n      : moveHistory.length === 0\n      ? toPlayFirst\n      : 1 - moveHistory[moveHistory.length - 1].player;\n\n  //// Sounds\n\n  const { setSoundToPlay } = useContext(SoundContext);\n\n  // trigger win/lose sound effect\n  useEffect(() => {\n    if (winner === 0) {\n      setSoundToPlay(winSound);\n    } else if (winner === 1) {\n      setSoundToPlay(loseSound);\n    }\n  }, [winner, setSoundToPlay]);\n  // trigger draw sound effect\n  useEffect(() => {\n    if (gameStatus === \"draw\") {\n      setSoundToPlay(drawSound);\n    }\n  }, [gameStatus, setSoundToPlay]);\n  // trigger your turn sound effect\n  useEffect(() => {\n    if (toPlayNext === 0) {\n      setSoundToPlay(yourTurnSound);\n    }\n  }, [toPlayNext, setSoundToPlay]);\n\n  //// Helpers\n  // isWon and createHighlights share a lot of code :(\n\n  // find row that piece will end up in when dropped in this col\n  function findEmptyRow(col) {\n    for (let row = 0; row < rows; row++) {\n      if (pieces[row][col] === null) {\n        return row;\n      }\n    }\n    return null;\n  }\n\n  // check whether the board is full\n  function isFull() {\n    // check the top row for nulls\n    for (let col = 0; col < cols; col++) {\n      if (pieces[rows - 1][col] === null) {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  // check if the game is won\n  function isWon() {\n    if (moveHistory.length < 2 * lineLen - 1) {\n      // impossible for anyone to have won yet\n      return false;\n    }\n    // only need to examine most recent move (which exists)\n    const { player, row, col } = moveHistory[moveHistory.length - 1];\n    for (let d = 0; d < directions.length; d++) {\n      const [d_r, d_c] = directions[d];\n      // check for a win using given piece in direction directions[d]\n      for (let j = -3; j < 1; j++) {\n        // check for a win in the direction starting from offset of j\n        if (checkLine(player, row + j * d_r, col + j * d_c, d_r, d_c)) {\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  // highlight winning locations\n  function createHighlights() {\n    let table = emptyTable(rows, cols, false);\n    if (moveHistory.length < 2 * lineLen - 1) {\n      // impossible for anyone to have won yet; no highlights needed\n      return table;\n    }\n    // only check the most recently played location (which exists)\n    let { player, row, col } = moveHistory[moveHistory.length - 1];\n    for (let d = 0; d < directions.length; d++) {\n      const [d_r, d_c] = directions[d];\n      // for the 4 pieces in this direction (including row,col),\n      //  check if it is in a line pointing towards row,col\n      for (let j = -lineLen + 1; j < 1; j++) {\n        if (checkLine(player, row + j * d_r, col + j * d_c, d_r, d_c)) {\n          // this piece, and the 3 after it, form a line of 4, so update them all\n          for (let k = j; k < j + lineLen; k++) {\n            table[row + k * d_r][col + k * d_c] = true;\n          }\n        }\n      }\n    }\n    return table;\n  }\n\n  // indicates whether the cell is in an open column\n  function checkOpenCols() {\n    let table = emptyTable(rows, cols);\n    for (let col = 0; col < cols; col++) {\n      const isOpen = pieces[rows - 1][col] === null;\n      for (let row = 0; row < rows; row++) {\n        table[row][col] = isOpen;\n      }\n    }\n    return table;\n  }\n\n  // given a spot and a direction, check if it's a line of 4\n  function checkLine(player, row, col, d_r, d_c) {\n    for (let k = 0; k < lineLen; k++) {\n      let [r, c] = [row + k * d_r, col + k * d_c];\n      // if (r, c) is out of bounds, or doesn't have the right piece\n      if (0 > r || r >= rows || 0 > c || c >= cols || pieces[r][c] !== player) {\n        return false;\n      }\n    }\n    // all 4 were in-bounds and belonged to player, so return true (they won)\n    return true;\n  }\n\n  //// Externally accessible functions\n\n  // given out to reset all states\n  function resetGame(player) {\n    setToPlayFirst(player);\n    setForfeiter(null);\n    dispatchMoveHistory({ type: \"reset\" });\n    // (use dispatch instead of useEffect since might make undo awkward?)\n    dispatchPieces({ type: \"reset\", rows, cols });\n  }\n\n  // given out to allow component to (attempt to) place a piece\n  function placePiece(col, player = toPlayNext) {\n    let row = findEmptyRow(col);\n    // only proceed if move is valid\n    if (gameStatus === \"ongoing\" && player === toPlayNext && row !== null) {\n      dispatchMoveHistory({ type: \"addMove\", player, row, col });\n      // (use dispatch instead of useEffect since might make undo awkward?)\n      dispatchPieces({ type: \"placePiece\", player, row, col });\n    }\n  }\n\n  function forfeit(player) {\n    setForfeiter(player);\n  }\n\n  //// Return\n\n  // TODO: LATER: UNDO: maybe return an undo function\n  return {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    placePiece,\n    forfeit,\n  };\n}\n\nexport { useGame };\n","export default __webpack_public_path__ + \"static/media/chime-sound-7143.09264db5.mp3\";","export default __webpack_public_path__ + \"static/media/notification-sound-7062.d73a4897.mp3\";","export default __webpack_public_path__ + \"static/media/fist-punch-or-kick-7171.1d430a44.mp3\";","import { useState, useEffect, useReducer, useContext } from \"react\";\n\nimport { useGame } from \"./../Game/useGame.js\";\n\nimport { SoundContext } from \"./../App.js\";\n\nimport playerJoinSound from \"./../sounds/chime-sound-7143.mp3\";\nimport playerLeaveSound from \"./../sounds/notification-sound-7062.mp3\";\nimport kickOpponentSound from \"./../sounds/fist-punch-or-kick-7171.mp3\";\n\n// TODO: TEST: create tests for useRoom hook\n\nfunction resultReducer(state, action) {\n  switch (action.type) {\n    case \"reset\":\n      return initialResults;\n    default:\n      // win, draw, or lose\n      let newState = { ...state };\n      newState[action.type + \"s\"] += 1;\n      return newState;\n  }\n}\n\n//// Helpers for reducers\n\nconst initialResults = { wins: 0, draws: 0, loses: 0 };\n\n// first player of first game is random if unspecified\nfunction useRoom(\n  player,\n  restartMethod,\n  publishMessage,\n  toPlayFirst = Math.floor(Math.random() * 2)\n) {\n  //// States\n\n  // other player's name and colour, once they join\\\n  const [opponent, setOpponent] = useState(null);\n  // how many players are present\n  const playerCount = opponent === null ? 1 : 2;\n  // history of all games played\n  const [resultHistory, dispatchResult] = useReducer(\n    resultReducer,\n    initialResults\n  );\n\n  // the game custom hook\n  const {\n    board,\n    gameStatus,\n    toPlayNext,\n    winner,\n    resetGame,\n    placePiece,\n    forfeit,\n  } = useGame(toPlayFirst);\n  // who started the current game (in case first player should alternate)\n  const [wentFirst, setWentFirst] = useState(toPlayFirst);\n\n  //// Effects\n\n  // W-D-L tally\n\n  // at end of game, update the W-D-L tally\n  useEffect(() => {\n    if (winner === 0) {\n      dispatchResult({ type: \"win\" });\n    } else if (winner === 1) {\n      dispatchResult({ type: \"lose\" });\n    }\n  }, [winner]);\n  useEffect(() => {\n    if (gameStatus === \"draw\") {\n      dispatchResult({ type: \"draw\" });\n    }\n  }, [gameStatus]);\n\n  // if opponent leaves, reset the W-D-L record\n  useEffect(() => {\n    if (playerCount === 1) {\n      dispatchResult({ type: \"reset\" });\n    }\n  }, [playerCount]);\n\n  // Sounds\n\n  // TODO: SOUND: what if 2 are triggered? which gets priority?\n\n  const { setSoundToPlay } = useContext(SoundContext);\n\n  // play sounds when other player joins or leaves\n  useEffect(() => {\n    if (playerCount === 1) {\n      setSoundToPlay(playerLeaveSound);\n    } else {\n      setSoundToPlay(playerJoinSound);\n    }\n  }, [playerCount, setSoundToPlay]);\n  // see also kickOpponentHandler for kick sound\n\n  //// Externally available functions\n\n  // when room owner starts a new game\n  //  basically figure out who goes first and then call useGame's reset\n  //  also update setWentFirst as may be needed for next such update\n  function newGameHandler() {\n    let toGoFirst = null;\n    // figure out who will go first\n    switch (restartMethod) {\n      case \"random\":\n        toGoFirst = Math.floor(Math.random() * 2);\n        break;\n      case \"alternate\":\n        toGoFirst = 1 - wentFirst;\n\n        break;\n      case \"loser\":\n        // if it's a draw, keep the same player\n        toGoFirst = gameStatus === \"draw\" ? wentFirst : 1 - winner;\n        break;\n      case \"winner\":\n        // if it's a draw, keep the same player\n        toGoFirst = gameStatus === \"draw\" ? wentFirst : winner;\n        break;\n      default:\n        console.log(\"New Game click handler didn't match any case.\");\n        toGoFirst = 0;\n    }\n    // call useGame's reset, then update own state\n    resetGame(toGoFirst);\n    setWentFirst(toGoFirst);\n    publishMessage({ type: \"newGame\", toGoFirst });\n  }\n\n  function moveHandler(col) {\n    // only act if it's your turn\n    if (toPlayNext === 0) {\n      placePiece(col, 0);\n      publishMessage({ type: \"move\", col });\n    }\n  }\n\n  function forfeitHandler(player) {\n    forfeit(player);\n    publishMessage({ type: \"forfeit\" });\n  }\n\n  function kickOpponentHandler() {\n    setOpponent(null);\n    publishMessage({ type: \"kick\" });\n    setSoundToPlay(kickOpponentSound);\n  }\n\n  // Network\n\n  const opponentInfoMessageHandler = (message) => {\n    switch (message.type) {\n      case \"join\":\n        // add opponent (name and colour)\n        const { name, colour } = message;\n        setOpponent({ name, colour });\n        // send own information (name and colour) out\n        publishMessage({ ...player, type: \"update\" });\n        // reset game\n        //  note that this will send out a message saying who goes first\n        newGameHandler();\n        // NOTE: to provide Start Game button instead of auto-starting game\n        //  on player join, change this (would require new gameStatus maybe)\n        break;\n      case \"update\":\n      case \"name\":\n      case \"colour\":\n        // add name and colour\n        setOpponent((opp) => {\n          const name = message.name || opp.name;\n          const colour = message.colour || opp.colour;\n          return { name, colour };\n        });\n        break;\n      case \"leave\":\n        // remove opponent\n        setOpponent(null);\n        alert(\"Your opponent left.\");\n        // reset the game with arbitrary toPlayFirst\n        //  note that on new player join, game will be reset again anyway\n        //  but this prevents them potentially seeing old board state briefly\n        //  also supplying 1 prevents them from somehow being able to make moves\n        resetGame(1);\n        break;\n      default:\n        break;\n    }\n  };\n\n  // TODO: NEXT: these have 1 hard-coded, but above is generic though only used for 0\n  //  has repeated code kind of\n\n  const gameMessageHandler = (message) => {\n    switch (message.type) {\n      case \"move\":\n        placePiece(message.col, 1);\n        break;\n      case \"forfeit\":\n        forfeit(1);\n        break;\n      case \"newGame\":\n        // each player is 0 to themselves, so need to flip it\n        resetGame(1 - message.toGoFirst);\n        setWentFirst(1 - message.toGoFirst);\n        break;\n      default:\n        break;\n    }\n  };\n\n  //// Return\n\n  return {\n    opponent,\n    resultHistory,\n    board,\n    gameStatus,\n    winner,\n    toPlayNext,\n    moveHandler,\n    forfeitHandler,\n    newGameHandler,\n    kickOpponentHandler,\n    opponentInfoMessageHandler,\n    gameMessageHandler,\n  };\n}\n\nexport { useRoom };\n","import { useState, useEffect, useCallback } from \"react\";\nimport { usePubNub } from \"pubnub-react\";\n\nimport RoomHeader from \"./RoomHeader.js\";\nimport Game from \"./../Game/Game.js\";\nimport Board from \"./../Game/Board.js\";\nimport GameFooter from \"./../Game/GameFooter.js\";\n\nimport { useRoom } from \"./useRoom.js\";\n\n// the room is seen from the current player's view\n//  each player has their own instantiation of the 'shared' room\n\nfunction Room({\n  player,\n  isOwner,\n  roomCode,\n  restartMethod,\n  closeRoomHandler,\n  leaveRoomHandler,\n}) {\n  // get pubnub object from PubNubProvider Context in App.js\n  const pubnub = usePubNub();\n\n  //// out-going network\n\n  const publishMessage = useCallback(\n    (message) => {\n      pubnub.publish({\n        message: { ...message, uuid: player.uuid },\n        channel: roomCode,\n      });\n    },\n    [player.uuid, pubnub, roomCode]\n  );\n\n  //// useRoom hook\n\n  const {\n    opponent,\n    resultHistory,\n    board,\n    gameStatus,\n    winner,\n    toPlayNext,\n    moveHandler,\n    forfeitHandler,\n    newGameHandler,\n    kickOpponentHandler,\n    opponentInfoMessageHandler,\n    gameMessageHandler,\n  } = useRoom(player, restartMethod, publishMessage);\n\n  //// in-coming network\n\n  // TODO: NETWORK: move code without explicit pubnub dependency to useRoom hook\n\n  // hold most recent message about opponent changes\n  const [opponentInfoMessage, setOpponentInfoMessage] = useState(null);\n  // hold most recent message about game\n  const [gameMessage, setGameMessage] = useState(null);\n\n  // TODO: NETWORK: replace with single listener side effect which adds to common queue\n  // check for messages about opponent updates\n  useEffect(() => {\n    function messageHandler(event) {\n      switch (event.message.type) {\n        case \"join\":\n        case \"update\":\n        case \"name\":\n        case \"colour\":\n        case \"leave\":\n          setOpponentInfoMessage(event.message);\n          break;\n        default:\n          break;\n      }\n    }\n    const listener = { message: messageHandler };\n    pubnub.addListener(listener);\n    return function cleanup() {\n      pubnub.removeListener(listener);\n    };\n  }, [pubnub]);\n  // check for messages about game\n  useEffect(() => {\n    function messageHandler(event) {\n      switch (event.message.type) {\n        case \"move\":\n        case \"forfeit\":\n        case \"newGame\":\n          setGameMessage(event.message);\n          break;\n        default:\n          break;\n      }\n    }\n    const listener = { message: messageHandler };\n    pubnub.addListener(listener);\n    return function cleanup() {\n      pubnub.removeListener(listener);\n    };\n  }, [pubnub]);\n\n  // handle most recent message about opponent changes\n  useEffect(() => {\n    if (opponentInfoMessage && opponentInfoMessage.uuid !== player.uuid) {\n      opponentInfoMessageHandler(opponentInfoMessage);\n    }\n    if (opponentInfoMessage) {\n      // without this check, might nullify a message which was set earlier in this re-render\n      setOpponentInfoMessage(null);\n    }\n    // could wrap opponentInfoMessageHandler (and recursive dependencies) in a callback\n  }, [opponentInfoMessage, opponentInfoMessageHandler, player.uuid]);\n  // handle most recent message about game\n  useEffect(() => {\n    if (gameMessage && gameMessage.uuid !== player.uuid) {\n      gameMessageHandler(gameMessage);\n    }\n    if (gameMessage) {\n      // without this check, might nullify a message which was set earlier in this re-render\n      setGameMessage(null);\n    }\n    // could wrap gameMessageHandler (and recursive dependencies) in a callback\n  }, [gameMessage, gameMessageHandler, player.uuid]);\n\n  //// Return\n\n  return (\n    <>\n      <h2>Room</h2>\n      <RoomHeader\n        roomCode={roomCode}\n        isOwner={isOwner}\n        opponent={opponent}\n        restartMethod={restartMethod}\n        resultHistory={resultHistory}\n        kickOpponentHandler={kickOpponentHandler}\n        closeRoomHandler={closeRoomHandler}\n        leaveRoomHandler={leaveRoomHandler}\n      />\n\n      {opponent && (\n        <Game>\n          <Board\n            viewer={0}\n            board={board}\n            isViewersTurn={0 === toPlayNext}\n            colours={[player.colour, opponent.colour]}\n            moveHandler={moveHandler}\n          />\n          <GameFooter\n            viewer={0}\n            isOwner={isOwner}\n            gameStatus={gameStatus}\n            winner={winner}\n            toPlayNext={toPlayNext}\n            forfeitHandler={forfeitHandler}\n            newGameHandler={newGameHandler}\n          />\n        </Game>\n      )}\n    </>\n  );\n}\n\nexport default Room;\n","export default __webpack_public_path__ + \"static/media/website-logo.2a15d8d0.svg\";","import \"./links.css\";\n\nimport gitHubImage from \"./github.png\";\nimport gitHubImageDark from \"./github-dark.png\";\nimport websiteImage from \"./website-logo.svg\";\n\nfunction Links({ gitHubLink, themeType = \"light\" }) {\n  const links = [\n    [\"Personal Website\", \"https://kr-matthews.github.io/\", websiteImage],\n    [\n      \"Project Repository\",\n      gitHubLink,\n      themeType === \"light\" ? gitHubImage : gitHubImageDark,\n    ],\n  ];\n\n  return (\n    <div className=\"link-footer\">\n      {links.map(([description, url, image]) => (\n        <Link key={url} description={description} url={url} image={image} />\n      ))}\n    </div>\n  );\n}\n\nfunction Link({ url, image, description }) {\n  return (\n    <a\n      href={url}\n      className=\"link-tooltip-container\"\n      target=\"_blank\"\n      rel=\"noopener noreferrer\"\n    >\n      <img className=\"link-image\" src={image} alt=\"\" />\n      <span className=\"link-tooltip\">{description}</span>\n    </a>\n  );\n}\n\nexport default Links;\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RERCMUIwOUY4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RERCMUIwOUU4NkNFMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJBOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJCOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+jUqS1wAAApVJREFUeNq0l89rE1EQx3e3gVJoSPzZeNEWPKgHoa0HBak0iHiy/4C3WvDmoZ56qJ7txVsPQu8qlqqHIhRKJZceesmhioQEfxTEtsoSpdJg1u/ABJ7Pmc1m8zLwgWTmzcw3L+/te+tHUeQltONgCkyCi2AEDHLsJ6iBMlgHL8FeoqokoA2j4CloRMmtwTmj7erHBXPgCWhG6a3JNXKdCiDl1cidVbXZkJoXQRi5t5BrxwoY71FzU8S4JuAIqFkJ2+BFSlEh525b/hr3+k/AklDkNsf6wTT4yv46KIMNpsy+iMdMc47HNWxbsgVcUn7FmLAzzoFAWDsBx+wVP6bUpp5ewI+DOeUx0Wd9D8F70BTGNjkWtqnhmT1JQAHcUgZd8Lo3rQb1LAT8eJVUfgGvHQigGp+V2Z0iAUUl8QH47kAA1XioxIo+bRN8OG8F/oBjwv+Z1nJgX5jpdzQDw0LCjsPmrcW7I/iHScCAEDj03FtD8A0EyuChHgg4KTlJQF3wZ7WELppnBX+dBFSVpJsOBWi1qiRgSwnOgoyD5hmuJdkWCVhTgnTvW3AgYIFrSbZGh0UW/Io5Vp+DQoK7o80pztWMemZbgxeNwCNwDbw1fIfgGZjhU6xPaJgBV8BdsMw5cbZoHsenwYFxkZzl83xTSKTiviCAfCsJLysH3POfC8m8NegyGAGfLP/VmGmfSChgXroR0RSWjEFv2J/nG84cuKFMf4sTCZqXuJd4KaXFVjEG3+tw4eXbNK/YC9oXXs3O8NY8y99L4BXY5cvLY/Bb2VZ58EOJVcB18DHJq9lRsKr8inyKGVjlmh29mtHs3AHfuhCwy1vXT/Nu2GKQt+UHsGdctyX6eQyNvc+5sfX9Dl7Pe2J/BRgAl2CpwmrsHR0AAAAASUVORK5CYII=\"","import { createGlobalStyle } from \"styled-components\";\n\n// TODO: PROBLEM: THEME: in dark mode on refresh, it transitions from light mode\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n      background: ${({ theme }) => theme.background};\n      color: ${({ theme }) => theme.foreground};\n      transition: all 0.75s ease-in;\n      transition-property: background, color\n    }\n  `;\n\nexport { GlobalStyle };\n","import { useState } from \"react\";\n\nfunction useLocalState(key, initialValue) {\n  const savedValue = JSON.parse(localStorage.getItem(key));\n  const [value, setValue] = useState(\n    savedValue === null ? initialValue : savedValue\n  );\n  function setLocalValue(newValue) {\n    setValue(newValue);\n    localStorage.setItem(key, JSON.stringify(newValue));\n  }\n  // if using the initialValue, save it into local storage now\n  if (savedValue === null) {\n    setLocalValue(value);\n  }\n  return [value, setLocalValue];\n}\n\nexport { useLocalState };\n","import { useState, useEffect } from \"react\";\n\nfunction playSound(url) {\n  new Audio(url).play();\n}\n\nfunction useSound(soundIsOn) {\n  const [soundToPlay, setSoundToPlay] = useState(null);\n\n  // play triggered sound\n  useEffect(() => {\n    if (soundToPlay && soundIsOn) {\n      playSound(soundToPlay);\n    }\n    setSoundToPlay(null);\n  }, [soundToPlay, soundIsOn]);\n\n  return { setSoundToPlay };\n}\n\nexport { useSound };\n","export default __webpack_public_path__ + \"static/media/success-1-6297.fd2c2fea.mp3\";","export default __webpack_public_path__ + \"static/media/power-down-7103.2164432c.mp3\";","import { useState, useEffect, useCallback } from \"react\";\n\nimport createRoomSound from \"./../sounds/success-1-6297.mp3\";\nimport closeRoomSound from \"./../sounds/power-down-7103.mp3\";\nimport joinRoomSound from \"./../sounds/good-6081.mp3\";\nimport leaveRoomSound from \"./../sounds/notification-sound-7062.mp3\";\n\n// TODO: NETWORK: review this file, compare to Room/useRoom, refactor as needed\n\nfunction useRoomHandlers(setSoundToPlay, pubnub, player) {\n  //// States\n\n  const [roomCode, setRoomCode] = useState(null);\n  const [isOwner, setIsOwner] = useState(null);\n  const [restartMethod, setRestartMethod] = useState(\"alternate\");\n\n  //// in-coming network\n\n  // handle owner closing and kicking\n  const removedHandler = useCallback(\n    (message) => {\n      if (message.type === \"kick\") {\n        alert(\"The owner of the room kicked you out.\");\n      }\n      if (message.type === \"close\") {\n        alert(\"The owner of the room left and so the room has closed.\");\n      }\n      pubnub.unsubscribe({ channels: [roomCode] });\n      setRoomCode(null);\n    },\n    [pubnub, roomCode]\n  );\n\n  // hold most recent message about being removed from room (close or kick)\n  const [removedMessage, setRemovedMessage] = useState(null);\n  // check for messages about being removed from room\n  useEffect(() => {\n    function messageHandler(event) {\n      switch (event.message.type) {\n        case \"close\":\n        case \"kick\":\n          setRemovedMessage(event.message);\n          break;\n        default:\n          break;\n      }\n    }\n    const listener = { message: messageHandler };\n    pubnub.addListener(listener);\n    return function cleanup() {\n      pubnub.removeListener(listener);\n    };\n  }, [pubnub]);\n  // handle most recent message about being removed from room\n  useEffect(() => {\n    if (removedMessage && removedMessage.uuid !== player.uuid) {\n      removedHandler(removedMessage);\n    }\n    if (removedMessage) {\n      setRemovedMessage(null);\n    }\n  }, [removedMessage, removedHandler, player.uuid]);\n\n  //// rooms and room codes\n\n  function generateUnusedRoomCode() {\n    // omit 0/O, 1/I/L just in case\n    const chars = \"ABCDEFGHJKMNPQRSTUVXYZ23456789\";\n\n    // loop: generate 4-digit code, check whether it is in use, if not then use\n    let roomCode = \"\";\n    do {\n      roomCode = \"\";\n      for (let i = 0; i < 4; i++) {\n        roomCode += chars.charAt(Math.floor(Math.random() * chars.length));\n      }\n    } while (isRoomCodeInUse(roomCode));\n\n    return roomCode;\n  }\n\n  function isRoomCodeInUse(roomCode) {\n    pubnub.hereNow({ channels: [roomCode] }).then((response) => {\n      return response.totalOccupancy > 0;\n    });\n  }\n\n  //// Externally accessible handlers\n\n  function createRoomHandler(restartMethodInput) {\n    // randomly generate room code (make sure it doesn't already exist)\n    // take in restartMethod and pass to Room\n    const generatedRoomCode = generateUnusedRoomCode();\n    pubnub.subscribe({\n      channels: [generatedRoomCode],\n      withPresence: true,\n    });\n    setRoomCode(generatedRoomCode);\n    setIsOwner(true);\n    setRestartMethod(restartMethodInput);\n    setSoundToPlay(createRoomSound);\n  }\n\n  function joinRoomHandler(roomCodeInput) {\n    pubnub\n      .hereNow({ channels: [roomCodeInput] })\n      .then((response) => {\n        if (response.totalOccupancy === 0) {\n          alert(\"No room with code \" + roomCodeInput + \" currently exists.\");\n        } else if (response.totalOccupancy === 1) {\n          // subscribe to room's channel\n          pubnub.subscribe({\n            channels: [roomCodeInput],\n            withPresence: true,\n          });\n          // update own states\n          setRoomCode(roomCodeInput);\n          setIsOwner(false);\n          setSoundToPlay(joinRoomSound);\n          // send details to opponent\n          pubnub.publish({\n            message: { ...player, type: \"join\" },\n            channel: roomCodeInput,\n          });\n        } else {\n          alert(\n            \"The room with code \" + roomCodeInput + \" already has two players.\"\n          );\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }\n\n  function closeRoomHandler() {\n    // send message\n    pubnub.publish({\n      message: { type: \"close\", uuid: player.uuid },\n      channel: roomCode,\n    });\n    // ubsubscribe from pubnub channel\n    pubnub.unsubscribe({ channels: [roomCode] });\n    // update own states\n    setRoomCode(null);\n    setIsOwner(null);\n    setSoundToPlay(closeRoomSound);\n  }\n\n  function leaveRoomHandler() {\n    // send message\n    pubnub.publish({\n      message: { type: \"leave\", uuid: player.uuid },\n      channel: roomCode,\n    });\n    // ubsubscribe from pubnub channel\n    pubnub.unsubscribe({ channels: [roomCode] });\n    // update own states\n    setRoomCode(null);\n    setIsOwner(null);\n    setRestartMethod(\"alternate\");\n    setSoundToPlay(leaveRoomSound);\n  }\n\n  //// Return\n\n  return {\n    roomCode,\n    isOwner,\n    restartMethod,\n    createRoomHandler,\n    joinRoomHandler,\n    closeRoomHandler,\n    leaveRoomHandler,\n  };\n}\n\nexport { useRoomHandlers };\n","import { useMemo, createContext } from \"react\";\n\nimport PubNub from \"pubnub\";\n// pubnubKeys.js is listed in .gitignore, contains private keys\nimport { subscribeKey, publishKey } from \"./pubnubKeys.js\";\nimport { PubNubProvider } from \"pubnub-react\";\n\nimport Header from \"./Options/Header.js\";\nimport Lobby from \"./Options/Lobby.js\";\n\nimport PlayerName from \"./Options/PlayerName.js\";\nimport PlayerColour from \"./Options/PlayerColour.js\";\nimport SiteTheme from \"./Options/SiteTheme.js\";\nimport Mute from \"./Options/Mute.js\";\n\nimport CreateRoom from \"./Room/CreateRoom.js\";\nimport JoinRoom from \"./Room/JoinRoom.js\";\nimport Room from \"./Room/Room.js\";\n\nimport Links from \"./links/Links.js\";\n\nimport { GlobalStyle } from \"./GlobalStyle.js\";\n\nimport { useLocalState } from \"./Options/useLocalState.js\";\nimport { useSound } from \"./sounds/useSound.js\";\nimport { useRoomHandlers } from \"./Room/useRoomHandlers.js\";\n\nimport { getRandomColour } from \"./Colours.js\";\n\n//// Contexts\n\nconst themes = {\n  light: { type: \"light\", background: \"#F5F5F5\", foreground: \"#121212\" },\n  dark: { type: \"dark\", background: \"#121212\", foreground: \"#F5F5F5\" },\n};\nconst ThemeContext = createContext(themes.light);\nconst SoundContext = createContext();\n\n//// Simple Helpers\n\nfunction generateRandomUuid() {\n  const chars = \"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\n  let uuid = \"\";\n  for (let i = 0; i < 64; i++) {\n    uuid += chars[Math.floor(Math.random() * chars.length)];\n  }\n  return uuid;\n}\n\n//// App\n\nfunction App() {\n  //// States and setters/toggles\n\n  // Player Properties\n\n  const [name, setName] = useLocalState(\"name\", \"Nameless\");\n  const [colour, setColour] = useLocalState(\"colour\", getRandomColour());\n\n  // Site Properties\n\n  const [theme, setTheme] = useLocalState(\"theme\", themes.light);\n  function toggleTheme() {\n    setTheme(theme.type === \"light\" ? themes.dark : themes.light);\n  }\n\n  const [soundIsOn, setSoundIsOn] = useLocalState(\"sound\", true);\n  function toggleSound() {\n    setSoundIsOn(!soundIsOn);\n  }\n  const { setSoundToPlay } = useSound(soundIsOn);\n\n  //// PubNub network setup\n  // TODO: NETWORK: refactor network code as necessary\n\n  // constant identifier per user/device\n  const [uuid] = useLocalState(\"uuid\", generateRandomUuid());\n  // NOTE: DEPLOY: currently uses demo keys\n  const pubnub = useMemo(() => new PubNub({ publishKey, subscribeKey, uuid }), [\n    uuid,\n  ]);\n\n  // TODO: NETWORK: publish name/colour updates belong in Room?\n\n  const player = { name, colour, uuid };\n\n  function publishName(name) {\n    if (roomCode) {\n      pubnub.publish({\n        message: { type: \"name\", name, uuid },\n        channel: roomCode,\n      });\n    }\n  }\n\n  function publishColour(colour) {\n    if (roomCode) {\n      pubnub.publish({\n        message: { type: \"colour\", colour, uuid },\n        channel: roomCode,\n      });\n    }\n  }\n\n  //// Room handlers\n\n  const {\n    roomCode,\n    isOwner,\n    restartMethod,\n    createRoomHandler,\n    joinRoomHandler,\n    closeRoomHandler,\n    leaveRoomHandler,\n  } = useRoomHandlers(setSoundToPlay, pubnub, player);\n\n  //// Return\n\n  return (\n    <ThemeContext.Provider value={theme}>\n      <SoundContext.Provider value={{ setSoundToPlay }}>\n        <PubNubProvider client={pubnub}>\n          <GlobalStyle theme={theme} />\n          <Header>\n            <PlayerName\n              name={name}\n              setName={setName}\n              publishName={publishName}\n            />\n            <PlayerColour\n              colour={colour}\n              setColour={setColour}\n              publishColour={publishColour}\n            />\n            <SiteTheme themeType={theme.type} toggleTheme={toggleTheme} />\n            <Mute soundIsOn={soundIsOn} toggleSound={toggleSound} />\n          </Header>\n          <h1>Connect 4 [WIP]</h1>\n          {roomCode ? (\n            <Room\n              player={{ name, colour, uuid }}\n              isOwner={isOwner}\n              roomCode={roomCode}\n              restartMethod={restartMethod}\n              closeRoomHandler={closeRoomHandler}\n              leaveRoomHandler={leaveRoomHandler}\n            />\n          ) : (\n            <Lobby>\n              <CreateRoom createRoomHandler={createRoomHandler} />\n              <JoinRoom joinRoomHandler={joinRoomHandler} />\n            </Lobby>\n          )}\n          <Links\n            gitHubLink=\"https://github.com/kr-matthews/connect-4\"\n            themeType={theme.type}\n          />\n        </PubNubProvider>\n      </SoundContext.Provider>\n    </ThemeContext.Provider>\n  );\n}\n\nexport default App;\n\nexport { ThemeContext, SoundContext };\n","// These are the (old, exposed) demo keys\nexport const publishKey = \"pub-c-444b80e2-3dd6-4998-ba4d-fdb8ea2f2d63\";\nexport const subscribeKey = \"sub-c-d1ada3dc-38d4-11ec-8182-fea14ba1eb2b\";\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}